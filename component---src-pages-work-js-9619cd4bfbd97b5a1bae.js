(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"2e6m":function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));i("E5k/");var r=i("q1tI"),n=i.n(r),a=i("plVc"),o=i.n(a),s=i("9eSz"),c=i.n(s);var l=function(e){var t,i;function r(t){var i;return(i=e.call(this)||this).data=void 0,i.tileImgs=[],i.loadTiles=[],i.fadeTiming=.7,i.state={limit:32},i.data=t.render.data,i.data=i.data.filter((function(e){return void 0!==e})),i.data.forEach((function(e){var t=e.previewTile,r=t[0].imageFile.childImageSharp,n={};null!==r?n.fluid=Object.assign({},r.fluid):(console.log(t[0].url),n.fluid={src:t[0].url});var a=t[0].optimizedimages.colorPalette[0];n.backgroundColor=a||"#efefef",i.tileImgs.push(n)})),i}i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var a=r.prototype;return a.componentDidMount=function(){this.mainEl=document.querySelector("main"),this.loadMore()},a.loadMore=function(e){var t=this;e&&e.preventDefault(),this.data.forEach((function(e,i){i<t.state.limit&&(t.loadTiles[i]=e)})),this.setState({limit:this.state.limit+8})},a.tilesFadeOut=function(e){var t=document.querySelector('.work-tile[href*="'+e+'"]');t.style.transition="opacity "+this.fadeTiming/2+"s",t.style.transitionDelay=this.fadeTiming/2+"s",this.mainEl.classList.add("-pageFade")},a.render=function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"work-tile__container"},this.loadTiles.slice(0,this.state.limit).map((function(t,i){var r="/work/articles/"+t.slug;return n.a.createElement(o.a,{exit:{length:e.fadeTiming,trigger:function(){return e.tilesFadeOut(r)}},entry:{delay:1.5*e.fadeTiming,length:e.fadeTiming},className:"work-tile",key:"home tile "+i,to:r},n.a.createElement(c.a,Object.assign({className:"work-tile__image aspect__2-by-1 hover-cursor"},e.tileImgs[i])),n.a.createElement("p",{className:"work-tile__client fontSize-p3 fontSize-uppercase"}," ",t.title," "),n.a.createElement("p",{className:"work-tile__title fontSize-p2",dangerouslySetInnerHTML:{__html:null!==t.description?t.description.content:null}}))}))),this.data.length>this.loadTiles.length?n.a.createElement("div",{className:"work-tile__load-more"},n.a.createElement("a",{href:"",onClick:function(t){e.loadMore(t)},className:"work-tile__load-more-button fontSize-p2"},"Load more work")):n.a.createElement("div",{className:"work-tile__load-more"}))},r}(r.Component)},Ofmp:function(e,t,i){"use strict";i.r(t);i("rzGZ"),i("Dq+y"),i("8npG");var r=i("q1tI"),n=i.n(r),a=i("Bl7J"),o=(i("HQhv"),i("Wbzz")),s=function(e){var t=e.render;return n.a.createElement("div",{className:"work__nav"},n.a.createElement("div",{className:"work__nav-disciplines"},n.a.createElement(o.Link,{className:"work__nav-disciplines-link",to:"/work",activeClassName:"-active"},n.a.createElement("h3",{className:"work__nav-disciplines-text fontSize-p2"},"All")),t.disciplines.map((function(e,t){var i=e.split(" ").join("%20");return i.toLowerCase(),n.a.createElement(o.Link,{className:"work__nav-disciplines-link",key:e,to:"/work/"+i,activeClassName:"-active"},n.a.createElement("h3",{className:"work__nav-disciplines-text fontSize-p2"},e))}))))},c=i("2e6m"),l=(i("sc67"),i("6kNP"),i("iVi/"));i("sC2a"),i("JHok");function u(){return!function(){if("object"!=typeof navigator||"string"!=typeof navigator.userAgent)return!1;return navigator.userAgent.indexOf("Node.js")>=0||navigator.userAgent.indexOf("jsdom")>=0}()&&("object"==typeof document&&"string"==typeof document.cookie)}function f(e,t){void 0===t&&(t={});var i=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return void 0===t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(i,t.doNotParse))try{return JSON.parse(i)}catch(r){}return e}var d=i("MgzW"),p=function(){function e(e){var t=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e){return"string"==typeof e?l.parse(e):"object"==typeof e&&null!==e?e:{}}(e),new Promise((function(){t.HAS_DOCUMENT_COOKIE=u()})).catch((function(){}))}return e.prototype._updateBrowserValues=function(){this.HAS_DOCUMENT_COOKIE&&(this.cookies=l.parse(document.cookie))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t){return void 0===t&&(t={}),this._updateBrowserValues(),f(this.cookies[e],t)},e.prototype.getAll=function(e){void 0===e&&(e={}),this._updateBrowserValues();var t={};for(var i in this.cookies)t[i]=f(this.cookies[i],e);return t},e.prototype.set=function(e,t,i){var r;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=d({},this.cookies,((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=l.serialize(e,t,i)),this._emitChange({name:e,value:t,options:i})},e.prototype.remove=function(e,t){var i=t=d({},t,{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=d({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=l.serialize(e,"",i)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}();i("27S9");i.d(t,"default",(function(){return h})),i.d(t,"query",(function(){return m}));var h=function(e){var t,i;function r(){for(var t,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).filteredTileData=void 0,t.allEntries=void 0,t.filteredArticles=[],t.categoryIndex=void 0,t.lastPath=void 0,t.disciplines=[],t.categories=[],t.cookies=new p,t.state={hasData:!1,hasFilters:!1},t}i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var o=r.prototype;return o.componentDidMount=function(){this.allEntries=this.props.data.craft.entries,this.findFilters(),this.filterArticles()},o.findFilters=function(){this.disciplines=["brand & identity","film & photography","spatial","digital"],this.setState({hasFilters:!0})},o.filterArticles=function(){var e,t=this.allEntries,i=this.props.pageContext.discipline;e=void 0===i?t:t.filter((function(e){return e.disciplines.some((function(e){return e.title===i}))}));var r=this.shuffleArray(e);this.filteredArticles=r,this.filteredArticles.length>0&&this.setState({hasData:!0})},o.shuffleArray=function(e){var t=this.cookies.get("dwTiles");if(void 0===t){var i,r,n=e.length,a=new Array(e.length);for(e.forEach((function(e,t){e.index=t}));0!==n;)r=Math.floor(Math.random()*n),i=e[n-=1],e[n]=e[r],e[r]=i;e.forEach((function(e,t){a[t]=e.index}));var o=new Date;o.setDate(o.getDate()+1),this.cookies.set("dwTiles",JSON.stringify(a),{expires:o})}else{var s=new Array(t.length);t.forEach((function(t,i){s[i]=e[t]})),e=s}return e},o.render=function(){var e=this.props.data.craft.seomatic,t=this.state.hasData,i=this.state.hasFilters;return n.a.createElement(a.a,{className:"work",seo:e},i&&n.a.createElement(s,{render:{disciplines:this.disciplines,categories:this.categories}}),t&&n.a.createElement(c.a,{render:{data:this.filteredArticles}}))},r}(r.Component),m="940993803"},"iVi/":function(e,t,i){"use strict";i("HXzo"),i("sc67"),i("HQhv"),t.parse=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var i={},n=t||{},o=e.split(a),c=n.decode||r,l=0;l<o.length;l++){var u=o[l],f=u.indexOf("=");if(!(f<0)){var d=u.substr(0,f).trim(),p=u.substr(++f,u.length).trim();'"'==p[0]&&(p=p.slice(1,-1)),null==i[d]&&(i[d]=s(p,c))}}return i},t.serialize=function(e,t,i){var r=i||{},a=r.encode||n;if("function"!=typeof a)throw new TypeError("option encode is invalid");if(!o.test(e))throw new TypeError("argument name is invalid");var s=a(t);if(s&&!o.test(s))throw new TypeError("argument val is invalid");var c=e+"="+s;if(null!=r.maxAge){var l=r.maxAge-0;if(isNaN(l))throw new Error("maxAge should be a Number");c+="; Max-Age="+Math.floor(l)}if(r.domain){if(!o.test(r.domain))throw new TypeError("option domain is invalid");c+="; Domain="+r.domain}if(r.path){if(!o.test(r.path))throw new TypeError("option path is invalid");c+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+r.expires.toUTCString()}r.httpOnly&&(c+="; HttpOnly");r.secure&&(c+="; Secure");if(r.sameSite){switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c};var r=decodeURIComponent,n=encodeURIComponent,a=/; */,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function s(e,t){try{return t(e)}catch(i){return e}}}}]);
//# sourceMappingURL=component---src-pages-work-js-9619cd4bfbd97b5a1bae.js.map