{"version":3,"sources":["webpack:///./src/article/index.js"],"names":["entry","data","craft","entries","console","log","className","seomatic","image","map","heroImage","backgroundColor","optimizedimages","colorPalette","fluid","imageFile","childImageSharp","query"],"mappings":"kQAUe,sBAAe,IACtBA,EADqB,EAAXC,KACGC,MAAMC,QAAQ,GAIjC,OAFAC,QAAQC,IAAI,QAAQL,GAGlB,kBAAC,IAAD,CAAQM,UAAU,WAChB,kBAAC,IAAD,CAAKL,KAAOD,EAAMO,WAClB,yBAAKD,UAAU,iBACZN,EAAMQ,MAAMC,KAAI,SAAAC,GAoBf,OACE,kBAAC,IAAD,CACEJ,UAAU,sBACVK,gBAAkBD,EAAUE,gBAAgBC,aAAa,GACzDC,MAAQJ,EAAUK,UAAUC,gBAAgBF,cASnD,IAAMG,EAAK","file":"component---src-article-index-js-2050e92f5c72c2702133.js","sourcesContent":["import React, { useEffect } from \"react\"\nimport { Link, graphql } from \"gatsby\"\nimport Img from \"gatsby-image\"\n\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\n// import VimeoEl from \"../components/Vimeo\"\n\nimport '../styles/article.scss'\n\nexport default ({ data }) => {\n  const entry = data.craft.entries[0];\n\n  console.log('entry',entry);\n\n  return (\n    <Layout className=\"article\">\n      <SEO data={ entry.seomatic } />\n      <div className=\"article__hero\">\n        {entry.image.map(heroImage => {\n          {/*           \n          let vimeoUrl;\n\n          if(data.heroBannerVideo !== null){\n            let vimeoSplit = data.heroBannerVideo.split(\"/\");\n            \n            vimeoUrl = vimeoSplit[vimeoSplit.length - 1];\n\n            // try make weird viemo links work as well as the normal ones\n            if(!/^\\d+$/.test(vimeoUrl)){\n              vimeoUrl = vimeoSplit[vimeoSplit.length - 2];\n            }\n          } */}\n\n          {/* {data.heroBannerVideo !== null && (\n                <Vimeo elClass=\"vimeo__video article__hero-vimeo\" vimeoOptions={{id: vimeoUrl, loop: 1, background: 1}}/>\n              )} */}\n          \n\n          return(\n            <Img \n              className=\"article__hero-media\" \n              backgroundColor={ heroImage.optimizedimages.colorPalette[0] } \n              fluid={ heroImage.imageFile.childImageSharp.fluid }\n            />\n          )\n        })}\n      </div>\n    </Layout>\n  )\n}\n\nexport const query = graphql`\n  query($slug: String!) {\n    craft {\n      entries(section: [projects], slug: $slug) {\n        ... on Craft_Projects {\n          seomatic {\n            metaTagContainer\n            metaLinkContainer\n            metaTitleContainer\n            metaScriptContainer\n            metaJsonLdContainer\n          }\n          hidden\n          id\n          slug\n          heroTitle\n          projectName\n          previewTile {\n            height\n            width\n            url\n            ... on Craft_UploadsVolume {\n              optimizedimages {\n                ... on Craft_OptimizedImagesData {\n                  colorPalette\n                  srcUrls {\n                    url\n                    width\n                  }\n                }\n              }\n            }\n          }\n          video {\n            url\n            width\n            height\n          }\n          heroBannerVideo\n          image {\n            url\n            width\n            height\n            ... on Craft_UploadsVolume {\n              url\n\n              imageFile{\n                childImageSharp{\n                  fluid(maxWidth: 1920){\n                    ...GatsbyImageSharpFluid_withWebp_noBase64\n                  }\n                }\n              }\n\n              optimizedimages {\n                colorPalette\n              }\n            }\n          }\n          modules {\n            ... on Craft_ModulesModuleText {\n              moduleText\n            }\n            ... on Craft_ModulesModuleImage {\n              moduleImage {\n                url\n                width\n                height\n                ... on Craft_UploadsVolume {\n                  optimizedimages {\n                    ... on Craft_OptimizedImagesData {\n                      colorPalette\n                      srcUrls {\n                        url\n                        width\n                      }\n                    }\n                  }\n                }\n              }\n            }\n            ... on Craft_ModulesModuleVimeoAmbientBackground {\n              moduleVimeoAmbientBackground\n            }\n            ... on Craft_ModulesModuleVimeoStories {\n              moduleVimeoStory\n              soundButtonColour\n            }\n            ... on Craft_ModulesModuleVideoUpload {\n              moduleVideoUpload {\n                url\n                width\n                height\n              }\n            }\n            ... on Craft_ModulesModuleImageSequence {\n              moduleImageSequence {\n                ... on Craft_UploadsVolume {\n                  url\n                  width\n                  height\n                  ... on Craft_UploadsVolume {\n                    optimizedimages {\n                      ... on Craft_OptimizedImagesData {\n                        colorPalette\n                        srcUrls {\n                          url\n                          width\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n          categories {\n            title\n          }\n          disciplines {\n            title\n          }\n          externalLink\n          relatedProjects(hidden: false) {\n            ... on Craft_Projects {\n              id\n              slug\n              image {\n                width\n                height\n                url\n                ... on Craft_UploadsVolume {\n                  optimizedimages {\n                    colorPalette\n                  }\n                }\n              }\n              disciplines {\n                title\n              }\n              categories {\n                title\n              }\n            }\n          }\n        }\n      }\n    }\n  }  \n`;"],"sourceRoot":""}