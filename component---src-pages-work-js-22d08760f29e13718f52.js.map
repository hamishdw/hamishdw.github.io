{"version":3,"sources":["webpack:///./src/components/work/workNav.js","webpack:///./src/components/work/findTags.js","webpack:///./node_modules/universal-cookie/es6/utils.js","webpack:///./node_modules/universal-cookie/es6/Cookies.js","webpack:///./src/components/work/filterArticles.js","webpack:///./src/pages/work.js","webpack:///./node_modules/cookie/index.js","webpack:///./src/components/common/createTiles.js"],"names":["render","className","to","activeClassName","disciplines","map","discipline","i","formatedLink","split","join","toLowerCase","key","readCookie","value","options","cleanValue","substr","cleanupCookieValue","doNotParse","isParsingCookie","JSON","parse","e","objectAssign","cookies","Cookies","_this","this","changeListeners","HAS_DOCUMENT_COOKIE","cookie","parseCookies","Promise","document","prototype","_updateBrowserValues","parseOptions","_emitChange","params","length","get","name","getAll","result","name_1","set","_a","stringify","remove","finalOptions","expires","Date","maxAge","undefined","addChangeListener","callback","push","removeChangeListener","idx","indexOf","splice","shuffleArray","array","checkCookie","temporaryValue","randomIndex","currentIndex","randomIndices","Array","forEach","item","index","Math","floor","random","tomorrow","setDate","getDate","tempArray","randIndex","Work","props","state","data","tags","allEntries","craft","entries","filter","some","title","filterArticles","pageContext","allDisciplines","allCategories","categories","category","Set","includes","findTags","seomatic","seo","Component","query","exports","str","TypeError","obj","opt","pairs","pairSplitRegExp","dec","decode","pair","eq_idx","trim","val","slice","tryDecode","serialize","enc","encode","fieldContentRegExp","test","isNaN","Error","domain","path","toUTCString","httpOnly","secure","sameSite","decodeURIComponent","encodeURIComponent","CreateTiles","tileImgs","loadTiles","fadeTiming","tileLimit","el","previewTile","imageFile","sharpImg","childImageSharp","fluidGatsbyImage","fluid","console","log","url","src","backgroundColor","colors","muted","componentDidMount","mainEl","querySelector","loadMore","preventDefault","tileData","setState","tilesFadeOut","href","clicked","style","transition","transitionDelay","classList","add","Fragment","slug","exit","trigger","entry","delay","dangerouslySetInnerHTML","__html","description","content","onClick"],"mappings":"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","file":"component---src-pages-work-js-22d08760f29e13718f52.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"gatsby\";\n\nexport default ({ render }) => (\n  <div className=\"work__nav\">\n    <div className=\"work__nav-disciplines\">\n      <Link className=\"work__nav-disciplines-link\" to={`/work`} activeClassName=\"-active\"> \n        <h3 className=\"work__nav-disciplines-text fontSize-p2\">All</h3>\n      </Link> \n\n      {render.disciplines.map((discipline, i) => {\n        let formatedLink = discipline.split(' ').join('%20'); // for activeClassName\n        formatedLink.toLowerCase();\n\n        return (\n          <Link className=\"work__nav-disciplines-link\" key={ discipline } to={`/work/${formatedLink}`} activeClassName=\"-active\"> \n            <h3 className=\"work__nav-disciplines-text fontSize-p2\">{ discipline }</h3> \n          </Link>\n        )\n      })} \n    </div>\n\n    {/* <div className=\"work__nav-tags\">\n      {props.render.categories.map((tag, i) => {\n        return (\n          <Link className=\"work__nav-tags-link\" key={tag} to={ `/work/${tag.toLowerCase()}` }> \n            <h3 className=\"work__nav-tags-text fontSize-p2\">{ tag }</h3> \n          </Link>\n        )\n      })} \n    </div> */}\n  </div>\n)","export default allEntries => {\n  let allDisciplines = [],\n      allCategories = [],\n      tags = {};\n\n  // for now tags are fixed to these disciplines\n  const fixedDisciplines = [\n    \"brand & identity\",\n    \"film & photography\",\n    \"spatial\",\n    \"digital\"\n  ]\n\n  allEntries.forEach(({ disciplines, categories }) => {\n    disciplines.forEach(({ title }) => {\n      let discipline = title.toLowerCase();\n      allDisciplines.push(discipline);\n    })\n\n    categories.forEach(({ title }) => {\n      let category = title.toLowerCase();\n      allCategories.push(category);\n    })\n  })\n\n  const disciplines = [...new Set(allDisciplines)];\n  // const categories = [...new Set(allCategories)];\n\n  // ensure tags is actually being used from fixed tags\n  tags.disciplines = fixedDisciplines.filter(discipline => disciplines.includes(discipline));\n\n  // tags = { disciplines, categories };\n  return tags;\n}","import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.for-each\";\nimport * as cookie from 'cookie';\nexport function hasDocumentCookie() {\n  // Can we get/set cookies on document.cookie?\n  return typeof document === 'object' && typeof document.cookie === 'string';\n}\nexport function cleanCookies() {\n  document.cookie.split(';').forEach(function (c) {\n    document.cookie = c.replace(/^ +/, '').replace(/=.*/, '=;expires=' + new Date().toUTCString() + ';path=/');\n  });\n}\nexport function parseCookies(cookies, options) {\n  if (typeof cookies === 'string') {\n    return cookie.parse(cookies, options);\n  } else if (typeof cookies === 'object' && cookies !== null) {\n    return cookies;\n  } else {\n    return {};\n  }\n}\nexport function isParsingCookie(value, doNotParse) {\n  if (typeof doNotParse === 'undefined') {\n    // We guess if the cookie start with { or [, it has been serialized\n    doNotParse = !value || value[0] !== '{' && value[0] !== '[' && value[0] !== '\"';\n  }\n\n  return !doNotParse;\n}\nexport function readCookie(value, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var cleanValue = cleanupCookieValue(value);\n\n  if (isParsingCookie(cleanValue, options.doNotParse)) {\n    try {\n      return JSON.parse(cleanValue);\n    } catch (e) {// At least we tried\n    }\n  } // Ignore clean value if we failed the deserialization\n  // It is not relevant anymore to trim those values\n\n\n  return value;\n}\n\nfunction cleanupCookieValue(value) {\n  // express prepend j: before serializing a cookie\n  if (value && value[0] === 'j' && value[1] === ':') {\n    return value.substr(2);\n  }\n\n  return value;\n}","import \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.to-string\";\nimport * as cookie from 'cookie';\nimport { hasDocumentCookie, parseCookies, readCookie } from './utils'; // We can't please Rollup and TypeScript at the same time\n// Only way to make both of them work\n\nvar objectAssign = require('object-assign');\n\nvar Cookies =\n/** @class */\nfunction () {\n  function Cookies(cookies, options) {\n    var _this = this;\n\n    this.changeListeners = [];\n    this.HAS_DOCUMENT_COOKIE = false;\n    this.cookies = parseCookies(cookies, options);\n    new Promise(function () {\n      _this.HAS_DOCUMENT_COOKIE = hasDocumentCookie();\n    })[\"catch\"](function () {});\n  }\n\n  Cookies.prototype._updateBrowserValues = function (parseOptions) {\n    if (!this.HAS_DOCUMENT_COOKIE) {\n      return;\n    }\n\n    this.cookies = cookie.parse(document.cookie, parseOptions);\n  };\n\n  Cookies.prototype._emitChange = function (params) {\n    for (var i = 0; i < this.changeListeners.length; ++i) {\n      this.changeListeners[i](params);\n    }\n  };\n\n  Cookies.prototype.get = function (name, options, parseOptions) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    this._updateBrowserValues(parseOptions);\n\n    return readCookie(this.cookies[name], options);\n  };\n\n  Cookies.prototype.getAll = function (options, parseOptions) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    this._updateBrowserValues(parseOptions);\n\n    var result = {};\n\n    for (var name_1 in this.cookies) {\n      result[name_1] = readCookie(this.cookies[name_1], options);\n    }\n\n    return result;\n  };\n\n  Cookies.prototype.set = function (name, value, options) {\n    var _a;\n\n    if (typeof value === 'object') {\n      value = JSON.stringify(value);\n    }\n\n    this.cookies = objectAssign({}, this.cookies, (_a = {}, _a[name] = value, _a));\n\n    if (this.HAS_DOCUMENT_COOKIE) {\n      document.cookie = cookie.serialize(name, value, options);\n    }\n\n    this._emitChange({\n      name: name,\n      value: value,\n      options: options\n    });\n  };\n\n  Cookies.prototype.remove = function (name, options) {\n    var finalOptions = options = objectAssign({}, options, {\n      expires: new Date(1970, 1, 1, 0, 0, 1),\n      maxAge: 0\n    });\n    this.cookies = objectAssign({}, this.cookies);\n    delete this.cookies[name];\n\n    if (this.HAS_DOCUMENT_COOKIE) {\n      document.cookie = cookie.serialize(name, '', finalOptions);\n    }\n\n    this._emitChange({\n      name: name,\n      value: undefined,\n      options: options\n    });\n  };\n\n  Cookies.prototype.addChangeListener = function (callback) {\n    this.changeListeners.push(callback);\n  };\n\n  Cookies.prototype.removeChangeListener = function (callback) {\n    var idx = this.changeListeners.indexOf(callback);\n\n    if (idx >= 0) {\n      this.changeListeners.splice(idx, 1);\n    }\n  };\n\n  return Cookies;\n}();\n\nexport default Cookies;","import Cookies from \"universal-cookie\";\n\nconst cookies = new Cookies();\n\nexport default (allEntries, discipline) => {\n  let entries = shuffleArray(allEntries);\n\n  // not done in GraphQL due to Craft Tags plugin not working with querying\n  if(discipline !== undefined){\n    entries = entries.filter(({ disciplines }) => {\n      return disciplines.some(({ title }) => title === discipline)\n    });\n  }\n\n  return entries;\n}\n\nconst shuffleArray = array => {\n  let checkCookie = cookies.get(\"dwTiles\");\n\n  if(checkCookie === undefined){\n    let currentIndex = array.length, \n        temporaryValue, \n        randomIndex, \n        randomIndices = new Array(array.length);\n\n    array.forEach((item, i) => {\n      item.index = i;\n    })\n\n    // While there remain elements to shuffle...\n    while (0 !== currentIndex) {\n\n      // Pick a remaining element...\n      randomIndex = Math.floor(Math.random() * currentIndex);\n      currentIndex -= 1;\n\n      // And swap it with the current element.\n      temporaryValue = array[currentIndex];\n      array[currentIndex] = array[randomIndex];\n      array[randomIndex] = temporaryValue;\n    }\n\n    array.forEach((item, i) => {\n      randomIndices[i] = item.index;\n    })\n\n    // set cookie so tiles only randomised once a day\n    let tomorrow = new Date();\n    tomorrow.setDate(tomorrow.getDate() + 1);\n\n    cookies.set(\"dwTiles\", JSON.stringify(randomIndices),{\n      expires: tomorrow\n    });\n  } else {\n    let tempArray = new Array(checkCookie.length);\n\n    checkCookie.forEach((randIndex, i) => {\n      tempArray[i] = array[randIndex];\n    })\n    \n    array = tempArray;\n  }\n\n  return array;\n}","import React, { Component } from \"react\";\nimport { graphql } from \"gatsby\";\n\nimport Layout from \"../components/common/layout\";\nimport CreateTiles from \"../components/common/createTiles\";\n\nimport WorkNav from \"../components/work/workNav\";\nimport findTags from \"../components/work/findTags\";\nimport filterArticles from \"../components/work/filterArticles\";\n\nimport \"../styles/work.scss\";\n\nexport default class Work extends Component {\n  state = {\n    data : false,\n    tags: false\n  }\n\n  constructor(props){\n    super();\n\n    const allEntries = props.data.craft.entries,\n          discipline = props.pageContext.discipline,\n          data = filterArticles( allEntries, discipline ),\n          tags = findTags( allEntries );\n\n    this.state = { data, tags };\n  }\n\n  render() {\n    const seomatic = this.props.data.craft.seomatic,\n          { tags, data } = this.state;\n\n    return (\n      <Layout className=\"work\" seo={ seomatic }>\n        { tags && <WorkNav render={ tags }/> }\n\n        { data && <CreateTiles render={ data }/> }\n      </Layout>\n    );\n  }\n}\n\nexport const query = graphql`\n  query {\n    craft {\n      seomatic(uri: \"/work\") {\n        metaTitleContainer\n        metaTagContainer\n        metaLinkContainer\n        metaScriptContainer\n        metaJsonLdContainer\n      }\n      entries(section: [projects], hidden: false) {\n        ... on Craft_Projects {\n          hidden\n          slug\n          title\n          previewTile {\n            url\n\n            ... on Craft_UploadsVolume {\n              __typename\n              imageFile {\n                childImageSharp {\n                  fluid(maxWidth: 650) {\n                    ...GatsbyImageSharpFluid_withWebp_noBase64\n                  }\n                }\n\n                colors {\n                  muted\n                }\n              }\n            }\n          }\n          description {\n            content\n          }\n          categories {\n            title\n          }\n          disciplines {\n            title\n          }\n        }\n      }\n    }\n  }    \n`;","/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n'use strict';\n/**\n * Module exports.\n * @public\n */\n\nrequire(\"core-js/modules/es6.string.trim\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nexports.parse = parse;\nexports.serialize = serialize;\n/**\n * Module variables.\n * @private\n */\n\nvar decode = decodeURIComponent;\nvar encode = encodeURIComponent;\nvar pairSplitRegExp = /; */;\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {};\n  var opt = options || {};\n  var pairs = str.split(pairSplitRegExp);\n  var dec = opt.decode || decode;\n\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i];\n    var eq_idx = pair.indexOf('='); // skip things that don't look like key=value\n\n    if (eq_idx < 0) {\n      continue;\n    }\n\n    var key = pair.substr(0, eq_idx).trim();\n    var val = pair.substr(++eq_idx, pair.length).trim(); // quoted values\n\n    if ('\"' == val[0]) {\n      val = val.slice(1, -1);\n    } // only assign once\n\n\n    if (undefined == obj[key]) {\n      obj[key] = tryDecode(val, dec);\n    }\n  }\n\n  return obj;\n}\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n    if (isNaN(maxAge)) throw new Error('maxAge should be a Number');\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString();\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string' ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n\n      case 'none':\n        str += '; SameSite=None';\n        break;\n\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}","import React, { Component } from \"react\";\nimport TransitionLink from \"gatsby-plugin-transition-link\";\nimport Img from \"gatsby-image\";\n\nexport default class CreateTiles extends Component {\n  data;\n  tileImgs = [];\n  loadTiles = [];\n  fadeTiming = 0.7;\n  state = {\n    tileLimit : 32\n  }\n\n  constructor(props){\n    super();\n\n    this.data = props.render;\n    this.data = this.data.filter(el => {\n      return el !== undefined;\n    });\n\n    this.data.forEach(({ previewTile }) => {\n      const imageFile = previewTile[0].imageFile,\n            sharpImg = imageFile.childImageSharp;\n\n      let fluidGatsbyImage = {};\n\n      if(sharpImg !== null){\n        fluidGatsbyImage.fluid = { ...sharpImg.fluid };\n      } else {\n        console.log(previewTile[0].url); // see which ones can't be converted to webp for testing\n\n        fluidGatsbyImage.fluid = { src: previewTile[0].url };\n      }\n\n      const backgroundColor = imageFile.colors.muted;\n\n      fluidGatsbyImage.backgroundColor = backgroundColor ? backgroundColor : \"#efefef\";\n\n      this.tileImgs.push(fluidGatsbyImage);\n    })\n  }\n\n  componentDidMount(){\n    this.mainEl = document.querySelector(\"main\");\n    this.loadMore();\n  }\n\n  loadMore(e){\n    if(e){\n      e.preventDefault();\n    }\n\n    this.data.forEach((tileData, i) => {\n      if(i < this.state.tileLimit){\n        this.loadTiles[i] = tileData;\n      }\n    })\n\n    this.setState({\n      tileLimit: (this.state.tileLimit + 8)\n    });\n  }\n\n  tilesFadeOut(href){\n    const clicked = document.querySelector(`.work-tile[href*=\"${href}\"]`);\n    clicked.style.transition = `opacity ${this.fadeTiming / 2}s`;\n    clicked.style.transitionDelay = `${this.fadeTiming / 2}s`;\n    \n    this.mainEl.classList.add(\"-pageFade\");\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <div className=\"work-tile__container\">\n          {this.loadTiles.slice( 0, this.state.tileLimit ).map((data, i) => {\n            const href = `/work/articles/${data.slug}`;\n          \n            return(\n              <TransitionLink \n                exit={{\n                  length: this.fadeTiming,\n                  trigger: () => this.tilesFadeOut( href ),\n                }}\n                entry={{\n                  delay: this.fadeTiming * 1.5,\n                  length: this.fadeTiming,\n                }}\n                className=\"work-tile\" \n                key={`home tile ${i}`} \n                to={ href }\n              >\n                <Img className={\"work-tile__image aspect__2-by-1 hover-cursor\"} { ...this.tileImgs[i] }/>\n                <p className=\"work-tile__client fontSize-p3 fontSize-uppercase\"> { data.title } </p>\n                <p className=\"work-tile__title fontSize-p2\" dangerouslySetInnerHTML={{ __html: data.description !== null ? data.description.content : null }}/>\n              </TransitionLink>\n            )\n          })} \n        </div>\n\n        {this.data.length > this.loadTiles.length ? (\n          <div className=\"work-tile__load-more\">\n            <p onClick={e => { this.loadMore(e) }} className=\"work-tile__load-more-button fontSize-p2\">Load more work</p>\n          </div>\n        ) : (\n          <div className=\"work-tile__load-more\"/>\n        )}\n      </React.Fragment>\n    );\n  }\n}"],"sourceRoot":""}