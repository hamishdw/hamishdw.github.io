{"version":3,"sources":["webpack:///./src/components/article/vimeo.js","webpack:///./src/components/common/Vimeo.js","webpack:///./node_modules/timers-browserify/main.js","webpack:///./src/components/article/hero.js","webpack:///./src/components/article/heading.js","webpack:///./src/components/article/paragraph.js","webpack:///./src/components/article/image.js","webpack:///./src/components/article/imageSequence.js","webpack:///./src/components/article/articleModules.js","webpack:///./src/components/article/whatWeDid.js","webpack:///./src/components/article/getRelatedArticles.js","webpack:///./src/components/article/relatedArticlesTransition.js","webpack:///./src/components/article/relatedArticles.js","webpack:///./src/components/article/newArticleFadeIn.js","webpack:///./src/templates/article.js","webpack:///./src/components/common/cursorOverlay.js","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./src/components/common/fluidImgProps.js","webpack:///./node_modules/@vimeo/player/dist/player.es.js"],"names":["urlToId","url","vimeoSplit","split","id","length","test","item","ambient","undefined","moduleVimeoAmbientBackground","moduleVimeoStory","vimeoOptions","loop","background","className","soundIcon","soundButtonColour","screenSize","checkWindow","window","addEventListener","w","innerWidth","h","innerHeight","VimeoEl","props","state","loading","muted","player","el","React","createRef","class","options","autopuase","clickPaused","scrollPaused","scrollPlay","muteBtn","soundIconColor","componentDidMount","this","init","componentWillUnmount","removeEventListener","scrollEvent","resizeEvent","video","destroy","VimeoAPI","current","setVolume","onResize","bind","on","setState","scrollPause","videoPlayingCallback","checkIfVideoInView","ready","then","setVideoPositionDetails","videoReadyCallback","onScroll","requestAnimationFrame","screenTop","pageYOffset","screenBottom","pause","catch","err","console","log","setTimeout","play","videoBox","getBoundingClientRect","videoTop","top","videoBottom","height","videoTopQuater","videoBottomQuater","muteClicked","render","ref","key","onClick","PureComponent","apply","Function","prototype","Timeout","clearFn","_id","_clearFn","exports","call","scope","arguments","clearTimeout","setInterval","clearInterval","timeout","close","unref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","setImmediate","self","global","clearImmediate","Hero","heroImgLoaded","heroVideoLoaded","heroEl","videoLoaded","vimeoUrl","heroBannerVideo","imgProps","fluidImgProps","heroImage","imgStyle","left","transform","transition","width","onLoad","Vimeo","style","position","title","text","img","imgs","useState","setActive","cycleImages","useEffect","map","i","useMemo","moduleData","moduleText","moduleImage","moduleImageSequence","disciplines","categories","externalLink","discipline","to","toLowerCase","category","href","target","rel","getMoreRelatedArticles","relatedProjects","currArticle","allArticles","tag","thisTag","count","projectTags","firstArticleId","push","j","val","k","sort","a","b","timings","articleTransitionEl","direction","e","animationStages","tileDimensions","document","querySelector","heroDimensions","imgClone","cloneNode","clicked","removeAttribute","Promise","resolve","copyTileStyle","y","x","opacity","imgLoaded","TweenLite","onComplete","appendChild","classList","add","complete","scale","growToHero","ease","Circ","easeOut","scrollTo","filter","moveTo","animation","data","related","getRelatedArticles","craft","entries","useRef","article","image","exit","zIndex","trigger","relatedArticlesTransition","entry","delay","node","articleEl","heroMedia","querySelectorAll","backgroundColor","heroImg","styles","getAttribute","newTransitionEl","transitionImgClone","children","setAttribute","newArticleFadeIn","slug","seo","seomatic","projectName","heroTitle","modules","query","cursorOverlay","cursorOverlayCursor","cursorDimensions","checkDocument","memo","clickable","hoverItem","onMouseEnter","onMouseLeave","onMouseMove","onDragstart","prevProps","nextProps","childState","remove","clientX","clientY","easing","Power2","TimelineLite","set","rippleTime","registerImmediate","html","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","attachTo","Object","getPrototypeOf","toString","process","handle","nextTick","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","event","port2","createElement","documentElement","script","onreadystatechange","removeChild","Math","random","source","indexOf","slice","attachEvent","callback","args","Array","task","run","imgData","imageFile","imgSharp","childImageSharp","fluid","src","sizes","srcSet","aspectRatio","colors","_classCallCheck","instance","Constructor","TypeError","_defineProperties","descriptor","enumerable","configurable","writable","defineProperty","isNode","getMethodName","prop","type","concat","substr","toUpperCase","isDomElement","element","Boolean","nodeType","ownerDocument","defaultView","isInteger","value","isNaN","parseFloat","isFinite","floor","isVimeoUrl","getVimeoUrl","oEmbedParameters","idOrUrl","Error","replace","arrayIndexOfSupport","postMessageSupport","commonjsGlobal","WeakMap","hasOwnProperty","object","name","genId","checkInstance","methodName","isObject","prefix","rand","substring","npo_src","fn","module","createCommonjsModule","context","definition","builtInProp","cycle","scheduling_queue","ToString","timer","obj","config","schedule","drain","isThenable","o","_then","o_type","notify","chain","notifyIsolated","success","failure","cb","ret","reject","msg","promise","triggered","def","def_wrapper","MakeDefWrapper","iteratePromises","arr","resolver","rejecter","idx","MakeDef","executor","__NPO__","constructor","first","last","Item","next","f","PromisePrototype","len","msgs","callbackMap","storeCallback","playerCallbacks","get","getCallbacks","removeCallback","index","splice","swapCallbacks","oldElement","newElement","getOEmbedParameters","defaults","reduce","params","param","createEmbed","_ref","div","innerHTML","firstChild","getOEmbedData","videoUrl","encodeURIComponent","xhr","XDomainRequest","XMLHttpRequest","open","onload","status","json","JSON","parse","responseText","domain_status_code","error","onerror","send","parseMessageData","warn","method","contentWindow","message","ieVersion","navigator","userAgent","stringify","origin","processData","callbacks","forEach","shift","shiftCallbacks","playerMap","readyMap","Player","_this","jQuery","getElementById","win","nodeName","iframe","has","readyPromise","onMessage","isReadyEvent","isPingResponse","_originalElement","protoProps","staticProps","_this2","_this3","_this4","eventName","callMethod","time","language","kind","_this5","parentNode","autopause","color","currentTime","playbackRate","volume","parent","elements","handleError","initializeEmbeds","VimeoPlayerResizeEmbeds_","iframes","parentElement","paddingBottom","bottom","resizeEmbeds"],"mappings":"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","file":"component---src-templates-article-js-55079031785fb5f9b16f.js","sourcesContent":["import React from 'react';\nimport VimeoEl from '../common/Vimeo';\n\nexport const urlToId = url => {\n  const vimeoSplit = url.split('/');\n\n  let id = vimeoSplit[vimeoSplit.length - 1]; // last value in url\n\n  id = id.split('?')[0]; // remove queryStrings\n\n  if (!/^\\d+$/.test(id)) {\n    // id there was a trailing backslash\n    id = vimeoSplit[vimeoSplit.length - 2];\n  }\n\n  return id;\n};\n\nexport default ({ item }) => {\n  const ambient = item.moduleVimeoAmbientBackground !== undefined ? true : false;\n  const url = ambient ? item.moduleVimeoAmbientBackground : item.moduleVimeoStory;\n  const id = urlToId(url);\n\n  let vimeoOptions = {\n    id,\n    loop: true,\n    background: ambient ? true : false,\n  };\n\n  return (\n    <div className=\"row article-media\">\n      <VimeoEl\n        className={'vimeo__video aspect__16-by-9'}\n        vimeoOptions={vimeoOptions}\n        soundIcon={item.soundButtonColour}\n      />\n    </div>\n  );\n};\n","import React from 'react';\nimport VimeoAPI from '@vimeo/player';\n\nconst checkWindow = typeof window === `undefined` ? false : true; // gatsby cannot have window called while building the pages\n\nlet screenSize;\n\nconst setScreenDimensions = () => {\n  screenSize = {\n    w: checkWindow ? window.innerWidth : 0,\n    h: checkWindow ? window.innerHeight : 0,\n  };\n};\n\nif (checkWindow) {\n  window.addEventListener('resize', setScreenDimensions);\n}\n\nexport default class VimeoEl extends React.PureComponent {\n  constructor(props) {\n    super();\n\n    this.state = {\n      loading: true,\n      muted: true,\n    };\n\n    this.player = {\n      el: React.createRef(),\n      class: props.className,\n      options: {\n        ...props.vimeoOptions,\n        ...{ muted: true, autopuase: false },\n      },\n      clickPaused: false,\n      scrollPaused: false,\n      scrollPlay: false,\n      muteBtn: React.createRef(),\n      soundIconColor: props.soundIcon,\n    };\n  }\n\n  componentDidMount() {\n    this.init();\n  }\n\n  componentWillUnmount() {\n    if (checkWindow) {\n      window.removeEventListener('scroll', this.player.scrollEvent);\n      window.removeEventListener('resize', this.player.resizeEvent);\n    }\n\n    this.player.video.destroy();\n  }\n\n  init() {\n    this.player.video = new VimeoAPI(this.player.el.current, this.player.options);\n    this.player.video.setVolume(0);\n\n    if (screenSize === undefined) {\n      screenSize = {\n        w: checkWindow ? window.innerWidth : 0,\n        h: checkWindow ? window.innerHeight : 0,\n      };\n    }\n\n    this.player.resizeEvent = this.onResize.bind(this);\n\n    if (checkWindow) {\n      window.addEventListener('resize', this.player.resizeEvent);\n    }\n\n    this.player.video.on('play', () => {\n      if (!this.player.scrollPlay) {\n        if (this.player.options.background !== 1 && screenSize.w <= 1024) {\n          this.player.video.setVolume(1);\n          this.setState({ muted: false });\n        }\n\n        this.player.clickPaused = false;\n        this.player.scrollPause = false;\n      }\n\n      if (this.props.videoPlayingCallback) this.props.videoPlayingCallback(this.player.el.current);\n    });\n\n    this.player.video.on('pause', () => {\n      if (this.checkIfVideoInView()) {\n        // if not paused by scrolling\n        this.player.clickPaused = true;\n        this.player.scrollPlay = false;\n      }\n    });\n\n    this.player.video.ready().then(() => {\n      if (this.player.el.current === null) return;\n\n      this.setState({ loading: false });\n      this.setVideoPositionDetails();\n\n      if (this.props.videoReadyCallback) this.props.videoReadyCallback(this.player.el.current);\n    });\n  }\n\n  onResize() {\n    if (this.player.el.current) {\n      // if video is on the page\n      this.setVideoPositionDetails();\n    }\n  }\n\n  onScroll() {\n    if (screenSize.w > 1024) {\n      window.requestAnimationFrame(() => {\n        this.screenTop = window.pageYOffset;\n        this.screenBottom = this.screenTop + screenSize.h;\n\n        if (this.checkIfVideoInView() && !this.player.clickPaused && !this.player.scrollPlay) {\n          this.player.video.play().catch(err => {\n            console.log('err', err);\n          });\n\n          setTimeout(() => {\n            this.player.scrollPlay = true;\n            this.player.scrollPause = false;\n          }, 100);\n        } else if (\n          !this.checkIfVideoInView() &&\n          !this.player.clickPaused &&\n          this.player.scrollPlay\n        ) {\n          this.player.video.pause().catch(err => {\n            console.log('err', err);\n          });\n\n          setTimeout(() => {\n            this.player.scrollPlay = false;\n            this.player.scrollPause = true;\n          }, 100);\n        }\n      });\n    }\n  }\n\n  setVideoPositionDetails() {\n    this.player.videoBox = this.player.el.current.getBoundingClientRect();\n    this.player.videoTop = (checkWindow ? window.pageYOffset : 0) + this.player.videoBox.top;\n    this.player.videoBottom = this.player.videoTop + this.player.videoBox.height;\n\n    // if($(\"section\").hasClass(\"-firstLoad\")){\n    //   video.videoTop -= this.windowH * 0.2; // to account for the slideup if video loads beforehand\n    // }\n\n    this.player.scrollEvent = this.onScroll.bind(this);\n\n    if (checkWindow) {\n      window.addEventListener('scroll', this.player.scrollEvent);\n    }\n  }\n\n  checkIfVideoInView() {\n    let videoTopQuater = this.player.videoTop + this.player.videoBox.height * 0.25;\n    let videoBottomQuater = this.player.videoTop + this.player.videoBox.height * 0.75;\n\n    if (this.screenTop > videoBottomQuater || this.screenBottom < videoTopQuater) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  muteClicked() {\n    if (this.state.muted) {\n      this.player.video.setVolume(1);\n      this.setState({\n        muted: false,\n      });\n    } else {\n      this.player.video.setVolume(0);\n      this.setState({\n        muted: true,\n      });\n    }\n  }\n\n  render() {\n    const { player } = this;\n\n    return (\n      <div\n        ref={player.el}\n        key={player.options.id}\n        className={`${player.class} ${this.state.loading ? '-loading' : ''}`}\n      >\n        {player.options.background !== true && (\n          <div\n            ref={player.muteBtn}\n            onClick={() => this.muteClicked()}\n            className={`vimeo__mute ${player.soundIconColor} ${this.state.muted ? '' : '-sound'}`}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","var scope = typeof global !== \"undefined\" && global || typeof self !== \"undefined\" && self || window;\nvar apply = Function.prototype.apply; // DOM APIs, for completeness\n\nexports.setTimeout = function () {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\n\nexports.setInterval = function () {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\n\nexports.clearTimeout = exports.clearInterval = function (timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\n\nTimeout.prototype.unref = Timeout.prototype.ref = function () {};\n\nTimeout.prototype.close = function () {\n  this._clearFn.call(scope, this._id);\n}; // Does not start the time, just sets up the members needed.\n\n\nexports.enroll = function (item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function (item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function (item) {\n  clearTimeout(item._idleTimeoutId);\n  var msecs = item._idleTimeout;\n\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout) item._onTimeout();\n    }, msecs);\n  }\n}; // setimmediate attaches itself to the global object\n\n\nrequire(\"setimmediate\"); // On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\n\n\nexports.setImmediate = typeof self !== \"undefined\" && self.setImmediate || typeof global !== \"undefined\" && global.setImmediate || this && this.setImmediate;\nexports.clearImmediate = typeof self !== \"undefined\" && self.clearImmediate || typeof global !== \"undefined\" && global.clearImmediate || this && this.clearImmediate;","import React from 'react';\nimport Img from 'gatsby-image';\n\nimport VimeoEl from '../common/Vimeo';\nimport fluidImgProps from '../common/fluidImgProps';\n\nexport default class Hero extends React.PureComponent {\n  state = {\n    heroImgLoaded: false,\n    heroVideoLoaded: false,\n  };\n\n  heroEl = React.createRef();\n\n  heroImgLoaded() {\n    setTimeout(() => this.setState({ heroImgLoaded: true }), 400);\n  }\n\n  videoLoaded() {\n    this.setState({ heroVideoLoaded: true });\n  }\n\n  render() {\n    let vimeoUrl = false;\n\n    if (this.props.heroBannerVideo !== null) {\n      let vimeoSplit = this.props.heroBannerVideo.split('/');\n\n      vimeoUrl = vimeoSplit[vimeoSplit.length - 1];\n\n      // try make weird viemo links work as well as the normal ones\n      if (!/^\\d+$/.test(vimeoUrl)) {\n        vimeoUrl = vimeoSplit[vimeoSplit.length - 2];\n      }\n    }\n\n    const imgProps = fluidImgProps(this.props.heroImage);\n\n    return (\n      <div className=\"article__hero\" ref={this.heroEl}>\n        <Img\n          className={`\n            article__hero-media \n            ${!this.state.heroImgLoaded ? '-zeroWidth' : ''}\n            ${this.state.videoLoaded ? '-hidden' : ''}\n          `}\n          // unset inline styles for '.-zeroWidth' css transition\n          imgStyle={{\n            top: '',\n            left: '',\n            transform: '',\n            transition: '',\n            width: '',\n            height: '',\n          }}\n          {...imgProps}\n          onLoad={this.heroImgLoaded.bind(this)}\n        />\n\n        {vimeoUrl && (\n          <VimeoEl\n            className={`vimeo__video article__hero-vimeo`}\n            vimeoOptions={{ id: vimeoUrl, loop: true, background: true }}\n            style={{ position: 'absolute' }}\n            videoPlayingCallback={this.videoLoaded.bind(this)}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\n\nexport default ({ title, text }) => (\n  <div className=\"row article__header\">\n    <div className=\"col__6 col__m-6 col__s-12\">\n      <h1 className=\"article__title fontSize-h2\">{title}</h1>\n    </div>\n    <div className=\"col__6 col__m-6 col__s-12\">\n      <div className=\"article__heading\">\n        <h2 className=\"article__heading-text fontSize-h2\">{text}</h2>\n      </div>\n    </div>\n  </div>\n);\n","import React from 'react';\n\nexport default ({ text }) => (\n  <div className=\"row\">\n    <div className=\"col__3 col__m-1-5 col__s-1\"></div>\n    <div className=\"col__6 col__m-9 col__s-10\">\n      <div className=\"article__paragraph\">\n        <p className=\"article__paragraph-text fontSize-p1\">{text}</p>\n      </div>\n    </div>\n    <div className=\"col__3 col__m-1-5 col__s-1\"></div>\n  </div>\n);\n","import React from 'react';\nimport Img from 'gatsby-image';\nimport fluidImgProps from '../common/fluidImgProps';\n\nexport default ({ img }) => {\n  const props = fluidImgProps(img);\n\n  return (\n    <div className=\"row article-media\">\n      <Img className={`article__image-media`} {...props} />\n    </div>\n  );\n};\n","import React, { useState, useEffect, useMemo } from 'react';\nimport Img from 'gatsby-image';\nimport fluidImgProps from '../common/fluidImgProps';\n\nexport default ({ imgs }) => {\n  const [active, setActive] = useState(0);\n\n  const cycleImages = () => setActive(active === imgs.length - 1 ? 0 : active + 1);\n\n  useEffect(() => {\n    setTimeout(cycleImages, 1500);\n  });\n\n  return (\n    <div className=\"row article-media\">\n      <div className=\"article-imageSequence aspect__3-by-2\">\n        {imgs.map((img, i) => {\n          const props = useMemo(() => fluidImgProps(img), [img]);\n\n          return (\n            <Img\n              key={'imgSeq-img-' + i}\n              className={`article__image article-imageSequence-image ${\n                i === active ? ' -active' : ''\n              }`}\n              style={{ position: 'absolute' }}\n              {...props}\n            />\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport { graphql } from 'gatsby';\n\nimport Paragraph from './paragraph';\nimport Image from './image';\nimport ImageSequence from './imageSequence';\nimport Vimeo from './vimeo';\n\nexport default ({ moduleData }) => (\n  <>\n    {moduleData.map((item, i) => {\n      if (item.moduleText && item.moduleText.length > 0) {\n        return <Paragraph key={`module-${i}`} text={item.moduleText} />;\n      }\n\n      if (item.moduleImage && item.moduleImage.length > 0) {\n        return <Image key={`module-${i}`} img={item.moduleImage[0]} />;\n      }\n\n      if (item.moduleImageSequence && item.moduleImageSequence.length > 0) {\n        return <ImageSequence key={`module-${i}`} imgs={item.moduleImageSequence} />;\n      }\n\n      if (\n        (item.moduleVimeoAmbientBackground && item.moduleVimeoAmbientBackground.length > 0) ||\n        (item.moduleVimeoStory && item.moduleVimeoStory.length > 0)\n      ) {\n        return <Vimeo key={`module-${i}`} item={item} />;\n      }\n\n      return null;\n    })}\n  </>\n);\n\nexport const query = graphql`\n  fragment ModuleData on Craft_ModulesUnion {\n    ... on Craft_ModulesModuleText {\n      moduleText\n    }\n    ... on Craft_ModulesModuleImage {\n      moduleImage {\n        id\n        dateUpdated\n        url\n\n        ... on Craft_UploadsVolume {\n          __typename\n          imageFile {\n            childImageSharp {\n              fluid(maxWidth: 1100, quality: 90) {\n                src\n                sizes\n                srcSet\n                srcWebp\n                srcSetWebp\n                aspectRatio\n              }\n            }\n\n            colors {\n              muted\n            }\n          }\n        }\n      }\n    }\n    ... on Craft_ModulesModuleVimeoAmbientBackground {\n      moduleVimeoAmbientBackground\n    }\n    ... on Craft_ModulesModuleVimeoStories {\n      moduleVimeoStory\n      soundButtonColour\n    }\n    ... on Craft_ModulesModuleImageSequence {\n      moduleImageSequence {\n        id\n        dateUpdated\n        url\n\n        ... on Craft_UploadsVolume {\n          __typename\n          imageFile {\n            childImageSharp {\n              fluid(maxWidth: 1100) {\n                src\n                sizes\n                srcSet\n                srcWebp\n                srcSetWebp\n                aspectRatio\n              }\n            }\n\n            colors {\n              muted\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n","import React from 'react';\nimport { Link } from 'gatsby';\n\nexport default ({ disciplines, categories, externalLink }) => {\n  if (disciplines.length > 0) {\n    return (\n      <div className=\"article__whatWeDid\">\n        <p className=\"article__whatWeDid-title fontSize-p3 fontSize-uppercase\">What we did</p>\n        <div className=\"article__whatWeDid-contain\">\n          <div className=\"article__whatWeDid-disciplines\">\n            <ul className=\"article__whatWeDid-disciplines-list fontSize-p1\">\n              {disciplines.map((discipline, i) => (\n                <li\n                  key={discipline.title}\n                  className=\"article__whatWeDid-disciplines-list-item fontSize-p1\"\n                >\n                  <Link\n                    className=\"article__whatWeDid-disciplines-link\"\n                    to={`/work/${discipline.title.toLowerCase()}`}\n                  >\n                    {discipline.title}\n                  </Link>\n                </li>\n              ))}\n\n              {categories.map((category, i) => (\n                <li\n                  key={category.title}\n                  className=\"article__whatWeDid-disciplines-list-item fontSize-p1\"\n                >\n                  <Link\n                    className=\"article__whatWeDid-disciplines-link\"\n                    to={`/work/${category.title.toLowerCase()}`}\n                  >\n                    {category.title}\n                  </Link>\n                </li>\n              ))}\n            </ul>\n          </div>\n          <div className=\"article__whatWeDid-seeMore\">\n            {externalLink && (\n              <a\n                href={externalLink}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"article__whatWeDid-seeMore-link fontSize-p2\"\n              >\n                See more here\n              </a>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  } else return null;\n};\n","export default (currArticle, allArticles) => {\n  let { relatedProjects } = currArticle;\n  let firstArticleId = false;\n  // currently only takes into account discipline and categories separtely instead of taking both into account for match score\n\n  // check for matching disciplines first\n  if (relatedProjects.length !== 2) {\n    getMoreRelatedArticles(relatedProjects, currArticle, allArticles, 'disciplines');\n  }\n\n  // then matching categories --- currently not using categories\n  // if(relatedProjects.length !== 2){\n  //   getMoreRelatedArticles(relatedProjects, currArticle, allArticles, \"categories\");\n  // }\n\n  // if still not found 2, add most recent\n  if (relatedProjects.length !== 2) {\n    for (let i = 0; i < allArticles.length; i++) {\n      if (relatedProjects.length !== 2) {\n        if (allArticles[i].id !== currArticle.id && allArticles[i].id !== firstArticleId) {\n          if (relatedProjects.length === 1 && allArticles[i].id !== relatedProjects[0].id) {\n            relatedProjects.push(allArticles[i]);\n          } else {\n            relatedProjects.push(allArticles[i]);\n          }\n        }\n      } else {\n        break;\n      }\n    }\n  }\n\n  return relatedProjects;\n};\n\nconst getMoreRelatedArticles = (relatedProjects, currArticle, allArticles, tag) => {\n  let thisTag = currArticle[tag];\n  let count = [];\n  let projectTags = [];\n  let firstArticleId = false;\n\n  if (relatedProjects.length === 1) {\n    firstArticleId = relatedProjects[0].id;\n  }\n\n  for (let i = 0; i < allArticles.length; i++) {\n    if (allArticles[i].id !== currArticle.id && allArticles[i].id !== firstArticleId) {\n      projectTags.push(allArticles[i][tag]);\n    } else {\n      projectTags.push([]);\n    }\n  }\n\n  // feel like this could be slimmed down\n  // maybe only push to array based on curr article tags first\n\n  // loop through curr project disciplines\n  for (let i = 0; i < thisTag.length; i++) {\n    // loop through all other projects\n    for (let j = 0; j < projectTags.length; j++) {\n      if (!count[j]) {\n        count[j] = {\n          i: j,\n          val: 0,\n        };\n      }\n\n      // loop through other project's disciplines\n      for (let k = 0; k < projectTags[j].length; k++) {\n        if (projectTags[j][k] && thisTag[i].title === projectTags[j][k].title) {\n          count[j].val++;\n        }\n      }\n    }\n  }\n\n  count.sort((a, b) => {\n    return b.val - a.val;\n  });\n\n  for (let i = 0; i < count.length; i++) {\n    if (relatedProjects.length === 2) {\n      break;\n    }\n\n    // if at least one matching tag found\n    if (count[i].val >= 1) {\n      relatedProjects.push(allArticles[count[i].i]);\n    }\n  }\n};\n","import { TweenLite, Circ } from 'gsap';\n\nconst timings = [0, 0.6, 0.4];\n\nexport default async (articleTransitionEl, direction, e) => {\n  const animationStages = [];\n  const target = e.target;\n  const tileDimensions = target.getBoundingClientRect();\n  const heroEl = document.querySelector('.article__hero');\n  const heroDimensions = heroEl.getBoundingClientRect();\n\n  let moveTo = 0;\n\n  // if (heroDimensions.width < 768) {\n  //   moveTo = window.pageYOffset + heroDimensions.top;\n  // }\n\n  let imgClone = target.cloneNode(true);\n\n  if (imgClone === undefined) {\n    const clicked = document.querySelector(`.article__related-option.-${direction}`);\n\n    imgClone = clicked.querySelector('img').cloneNode(true);\n  }\n\n  imgClone.removeAttribute('loading');\n  imgClone.removeAttribute('srcset');\n\n  animationStages.push(\n    async () =>\n      new Promise(resolve => {\n        const copyTileStyle = {\n          y: tileDimensions.y + 'px',\n          x: tileDimensions.x + 'px',\n          width: tileDimensions.width + 'px',\n          height: tileDimensions.height + 'px',\n          opacity: 1,\n        };\n\n        const imgLoaded = () => {\n          TweenLite.to(articleTransitionEl.current, timings[0], {\n            ...copyTileStyle,\n            onComplete: () => {\n              articleTransitionEl.current.appendChild(imgClone);\n              document.querySelector('.article').classList.add('-fade');\n\n              requestAnimationFrame(resolve);\n            },\n          });\n        };\n\n        if (imgClone.complete) {\n          imgLoaded();\n        } else {\n          imgClone.addEventListener('load', () => {\n            imgLoaded();\n          });\n        }\n      })\n  );\n\n  animationStages.push(\n    async () =>\n      new Promise(resolve => {\n        const scale = heroDimensions.width / tileDimensions.width;\n        const growToHero = {\n          x: heroDimensions.x + 'px',\n          scale: scale,\n          height: heroDimensions.height / scale + 'px',\n          ease: Circ.easeOut,\n        };\n\n        TweenLite.to(articleTransitionEl.current, timings[1], {\n          ...growToHero,\n          onComplete: () => requestAnimationFrame(resolve),\n        });\n      })\n  );\n\n  animationStages.push(\n    async () =>\n      new Promise(resolve => {\n        window.scrollTo(0, 0);\n        imgClone.style.filter = 'blur(3px)';\n\n        TweenLite.to(articleTransitionEl.current, timings[2], {\n          y: moveTo + 'px',\n          ease: Circ.easeOut,\n          onComplete: () => requestAnimationFrame(resolve),\n        });\n      })\n  );\n\n  for (const animation of animationStages) {\n    await animation();\n  }\n};\n","import React, { useRef } from 'react';\nimport { graphql, useStaticQuery } from 'gatsby';\nimport Img from 'gatsby-image';\nimport TransitionLink from 'gatsby-plugin-transition-link';\n\nimport getRelatedArticles from './getRelatedArticles';\nimport relatedArticlesTransition from './relatedArticlesTransition';\nimport newArticleFadeIn from './newArticleFadeIn';\nimport fluidImgProps from '../common/fluidImgProps';\nimport CursorOverlay from '../common/cursorOverlay';\n\nexport default ({ currArticle, data }) => {\n  if (data === undefined) {\n    data = useStaticQuery(graphql`\n      {\n        craft {\n          entries(section: [projects], hidden: false) {\n            ... on Craft_Projects {\n              slug\n              image {\n                id\n                dateUpdated\n                url\n\n                ... on Craft_UploadsVolume {\n                  __typename\n                  imageFile {\n                    childImageSharp {\n                      fluid(maxWidth: 600) {\n                        src\n                        sizes\n                        srcSet\n                        srcWebp\n                        srcSetWebp\n                        aspectRatio\n                      }\n                    }\n\n                    colors {\n                      muted\n                    }\n                  }\n                }\n              }\n              disciplines {\n                title\n              }\n              categories {\n                title\n              }\n            }\n          }\n        }\n      }\n    `);\n  }\n\n  const allArticles = data.craft.entries;\n  const related = getRelatedArticles(currArticle, allArticles);\n  const articleTransitionEl = useRef();\n\n  return (\n    <>\n      <div className=\"article__contain\">\n        {related ? (\n          <div className=\"article__related\">\n            <div className=\"article__related-title\">\n              <p className=\"article__related-title-text fontSize-p3 fontSize-uppercase\">\n                Related Work\n              </p>\n            </div>\n\n            <div className=\"article__related-links\">\n              {related.map((article, i) => {\n                const props = fluidImgProps(article.image[0]);\n                const direction = i === 0 ? 'previous' : 'next';\n\n                return (\n                  <TransitionLink\n                    exit={{\n                      zIndex: 2,\n                      length: 2,\n                      trigger: ({ e }) =>\n                        relatedArticlesTransition(articleTransitionEl, direction, e),\n                    }}\n                    entry={{\n                      delay: 1.1,\n                      length: 0,\n                      trigger: ({ node }) => newArticleFadeIn(articleTransitionEl, node),\n                    }}\n                    className=\"hover-cursor\"\n                    key={article.slug}\n                    to={'/work/articles/' + article.slug}\n                  >\n                    <CursorOverlay>\n                      <Img\n                        className={`article__related-option -${direction}`}\n                        style={{ position: 'absolute' }}\n                        {...props}\n                      />\n                    </CursorOverlay>\n                  </TransitionLink>\n                );\n              })}\n            </div>\n          </div>\n        ) : null}\n      </div>\n      <div className=\"article__movingOverlay\" ref={articleTransitionEl} />\n    </>\n  );\n};\n","const timing = 500;\n\nexport default (articleTransitionEl, node) => {\n  const articleEl = node.querySelector('.article');\n\n  node.querySelector('nav').classList.add('-transitionHide'); // so hero img begin at top of screen\n  articleEl.classList.add('-articleTransition');\n\n  setTimeout(() => {\n    const heroMedia = articleEl.querySelector('.article__hero-media');\n\n    for (const placholders of heroMedia.querySelectorAll('div')) {\n      placholders.style.backgroundColor = 'unset';\n    }\n\n    const heroImg = heroMedia.querySelector('img');\n    const styles = articleTransitionEl.current.getAttribute('style');\n    const newTransitionEl = articleEl.querySelector('.article__movingOverlay');\n    const transitionImgClone = articleTransitionEl.current.children[0].cloneNode(true);\n\n    heroImg.style.opacity = 0;\n    newTransitionEl.setAttribute('style', styles);\n    newTransitionEl.appendChild(transitionImgClone);\n    articleTransitionEl.current.style.opacity = 0;\n\n    const heroImgLoaded = () => {\n      heroImg.style.opacity = 1;\n      newTransitionEl.style.opacity = 0;\n      setTimeout(newTransitionEl.setAttribute('style', ''), timing);\n    };\n\n    if (heroImg.complete) {\n      heroImgLoaded();\n    } else {\n      heroImg.addEventListener('load', () => {\n        heroImgLoaded();\n      });\n    }\n  }, 50); // give FF 50ms to add hero img\n};\n","import React from 'react';\nimport { graphql } from 'gatsby';\n\nimport Layout from '../components/common/layout';\n\nimport Hero from '../components/article/hero';\nimport Heading from '../components/article/heading';\nimport Modules from '../components/article/articleModules';\nimport WhatWeDid from '../components/article/whatWeDid';\nimport RelatedArticles from '../components/article/relatedArticles';\n\nexport default ({ data }) => {\n  const entry = data.craft.entries[0];\n\n  return (\n    <Layout className=\"article\" seo={entry.seomatic}>\n      <Hero heroImage={entry.image[0]} heroBannerVideo={entry.heroBannerVideo} />\n\n      <div className=\"article__contain\">\n        <Heading title={entry.projectName} text={entry.heroTitle} />\n\n        <Modules moduleData={entry.modules} />\n\n        <WhatWeDid {...entry} />\n      </div>\n\n      <RelatedArticles currArticle={entry} />\n    </Layout>\n  );\n};\n\nexport const query = graphql`\n  query($slug: String!) {\n    craft {\n      entries(section: [projects], slug: $slug) {\n        ... on Craft_Projects {\n          seomatic {\n            metaTagContainer\n            metaLinkContainer\n            metaTitleContainer\n            metaScriptContainer\n            metaJsonLdContainer\n          }\n          hidden\n          id\n          slug\n          heroTitle\n          projectName\n          video {\n            url\n            width\n            height\n          }\n          heroBannerVideo\n          image {\n            id\n            dateUpdated\n            url\n\n            ... on Craft_UploadsVolume {\n              __typename\n              imageFile {\n                childImageSharp {\n                  fluid(maxWidth: 1920) {\n                    src\n                    sizes\n                    srcSet\n                    srcWebp\n                    srcSetWebp\n                    aspectRatio\n                  }\n                }\n\n                colors {\n                  muted\n                }\n              }\n            }\n          }\n\n          modules {\n            ...ModuleData\n          }\n\n          categories {\n            title\n          }\n          disciplines {\n            title\n          }\n          externalLink\n\n          relatedProjects(hidden: false) {\n            ... on Craft_Projects {\n              id\n              slug\n              image {\n                id\n                dateUpdated\n                url\n\n                ... on Craft_UploadsVolume {\n                  __typename\n                  imageFile {\n                    childImageSharp {\n                      fluid(maxWidth: 600) {\n                        src\n                        sizes\n                        srcSet\n                        srcWebp\n                        srcSetWebp\n                        aspectRatio\n                      }\n                    }\n\n                    colors {\n                      muted\n                    }\n                  }\n                }\n              }\n              disciplines {\n                title\n              }\n              categories {\n                title\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n","import React, { useEffect } from 'react';\nimport { TimelineLite, Power2 } from 'gsap';\n\nconst checkDocument = typeof document === `undefined` ? false : true; // gatsby cannot have window called while building the pages\n\nlet cursorOverlay;\nlet cursorOverlayCursor;\nlet cursorDimensions;\n\nconst preventRerender = (prevProps, nextProps) => {\n  if (prevProps.childState !== nextProps.childState) {\n    return false;\n  }\n\n  return true;\n};\n\nexport default React.memo(({ children, clickable = true }) => {\n  const hoverItem = React.createRef();\n\n  if (checkDocument && (cursorOverlay === undefined || cursorOverlayCursor === undefined)) {\n    cursorOverlay = document.querySelector('.cursorOverlay');\n    cursorOverlayCursor = cursorOverlay.querySelector('.cursorOverlay-cursor');\n    cursorDimensions = cursorOverlay.getBoundingClientRect();\n  }\n\n  useEffect(() => {\n    hoverItem.current.addEventListener('mouseenter', onMouseEnter);\n    hoverItem.current.addEventListener('mouseleave', onMouseLeave);\n    hoverItem.current.addEventListener('mousemove', onMouseMove);\n    hoverItem.current.addEventListener('dragstart', onDragstart);\n\n    if (clickable) {\n      hoverItem.current.addEventListener('click', onClick);\n    }\n\n    const { current } = hoverItem;\n\n    return () => {\n      current.removeEventListener('mouseenter', onMouseEnter);\n      current.removeEventListener('mouseleave', onMouseLeave);\n      current.removeEventListener('mousemove', onMouseMove);\n      current.removeEventListener('dragstart', onDragstart);\n\n      if (clickable) {\n        current.removeEventListener('click', onClick);\n      }\n    };\n  }, [hoverItem, clickable]);\n\n  return (\n    <div ref={hoverItem} className=\"hover-cursor\">\n      {children}\n    </div>\n  );\n}, preventRerender);\n\nconst onMouseEnter = () => {\n  cursorOverlay.classList.remove('-hidden');\n  cursorOverlayCursor.style.transform = 'scale(0.4)';\n};\n\nconst onMouseLeave = () => {\n  if (cursorOverlay === null) return;\n  cursorOverlay.classList.add('-hidden');\n  cursorOverlayCursor.style.transform = 'scale(0)';\n};\n\nconst onMouseMove = e => {\n  // console.log('e',e);\n  if (cursorOverlay === null) return;\n  let x = e.clientX - cursorDimensions.width / 2;\n  let y = e.clientY - cursorDimensions.height / 2;\n\n  cursorOverlay.style.transform = `translate(${x}px, ${y}px)`;\n};\n\nconst onClick = () => {\n  const rippleTime = 0.4;\n  const easing = Power2.easeOut;\n\n  let tl = new TimelineLite();\n\n  tl.set(cursorOverlayCursor, {\n    scale: 0.1,\n    opacity: 0,\n    transition: 'none',\n  })\n    .set(cursorOverlay, { transition: 'none' })\n    .to(cursorOverlayCursor, rippleTime * 0.3, {\n      scale: 1,\n      opacity: 0.5,\n      ease: easing,\n    })\n    .to(cursorOverlayCursor, rippleTime * 0.2, {\n      scale: 1,\n      opacity: 0.7,\n      ease: easing,\n    })\n    .to(cursorOverlayCursor, rippleTime * 0.2, {\n      scale: 0.1,\n      opacity: 0,\n      ease: easing,\n    })\n    .add(() => {\n      cursorOverlayCursor.removeAttribute('style');\n      cursorOverlay.removeAttribute('style');\n      cursorOverlay.classList.add('-hidden');\n    }); // reset after timline styles\n};\n\nconst onDragstart = () => {\n  return false;\n};\n","require(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\n(function (global, undefined) {\n  \"use strict\";\n\n  if (global.setImmediate) {\n    return;\n  }\n\n  var nextHandle = 1; // Spec says greater than zero\n\n  var tasksByHandle = {};\n  var currentlyRunningATask = false;\n  var doc = global.document;\n  var registerImmediate;\n\n  function setImmediate(callback) {\n    // Callback can either be a function or a string\n    if (typeof callback !== \"function\") {\n      callback = new Function(\"\" + callback);\n    } // Copy function arguments\n\n\n    var args = new Array(arguments.length - 1);\n\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i + 1];\n    } // Store and register the task\n\n\n    var task = {\n      callback: callback,\n      args: args\n    };\n    tasksByHandle[nextHandle] = task;\n    registerImmediate(nextHandle);\n    return nextHandle++;\n  }\n\n  function clearImmediate(handle) {\n    delete tasksByHandle[handle];\n  }\n\n  function run(task) {\n    var callback = task.callback;\n    var args = task.args;\n\n    switch (args.length) {\n      case 0:\n        callback();\n        break;\n\n      case 1:\n        callback(args[0]);\n        break;\n\n      case 2:\n        callback(args[0], args[1]);\n        break;\n\n      case 3:\n        callback(args[0], args[1], args[2]);\n        break;\n\n      default:\n        callback.apply(undefined, args);\n        break;\n    }\n  }\n\n  function runIfPresent(handle) {\n    // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n    // So if we're currently running a task, we'll need to delay this invocation.\n    if (currentlyRunningATask) {\n      // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n      // \"too much recursion\" error.\n      setTimeout(runIfPresent, 0, handle);\n    } else {\n      var task = tasksByHandle[handle];\n\n      if (task) {\n        currentlyRunningATask = true;\n\n        try {\n          run(task);\n        } finally {\n          clearImmediate(handle);\n          currentlyRunningATask = false;\n        }\n      }\n    }\n  }\n\n  function installNextTickImplementation() {\n    registerImmediate = function registerImmediate(handle) {\n      process.nextTick(function () {\n        runIfPresent(handle);\n      });\n    };\n  }\n\n  function canUsePostMessage() {\n    // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n    // where `global.postMessage` means something completely different and can't be used for this purpose.\n    if (global.postMessage && !global.importScripts) {\n      var postMessageIsAsynchronous = true;\n      var oldOnMessage = global.onmessage;\n\n      global.onmessage = function () {\n        postMessageIsAsynchronous = false;\n      };\n\n      global.postMessage(\"\", \"*\");\n      global.onmessage = oldOnMessage;\n      return postMessageIsAsynchronous;\n    }\n  }\n\n  function installPostMessageImplementation() {\n    // Installs an event handler on `global` for the `message` event: see\n    // * https://developer.mozilla.org/en/DOM/window.postMessage\n    // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n    var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n\n    var onGlobalMessage = function onGlobalMessage(event) {\n      if (event.source === global && typeof event.data === \"string\" && event.data.indexOf(messagePrefix) === 0) {\n        runIfPresent(+event.data.slice(messagePrefix.length));\n      }\n    };\n\n    if (global.addEventListener) {\n      global.addEventListener(\"message\", onGlobalMessage, false);\n    } else {\n      global.attachEvent(\"onmessage\", onGlobalMessage);\n    }\n\n    registerImmediate = function registerImmediate(handle) {\n      global.postMessage(messagePrefix + handle, \"*\");\n    };\n  }\n\n  function installMessageChannelImplementation() {\n    var channel = new MessageChannel();\n\n    channel.port1.onmessage = function (event) {\n      var handle = event.data;\n      runIfPresent(handle);\n    };\n\n    registerImmediate = function registerImmediate(handle) {\n      channel.port2.postMessage(handle);\n    };\n  }\n\n  function installReadyStateChangeImplementation() {\n    var html = doc.documentElement;\n\n    registerImmediate = function registerImmediate(handle) {\n      // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n      // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n      var script = doc.createElement(\"script\");\n\n      script.onreadystatechange = function () {\n        runIfPresent(handle);\n        script.onreadystatechange = null;\n        html.removeChild(script);\n        script = null;\n      };\n\n      html.appendChild(script);\n    };\n  }\n\n  function installSetTimeoutImplementation() {\n    registerImmediate = function registerImmediate(handle) {\n      setTimeout(runIfPresent, 0, handle);\n    };\n  } // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n\n\n  var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n  attachTo = attachTo && attachTo.setTimeout ? attachTo : global; // Don't get fooled by e.g. browserify environments.\n\n  if ({}.toString.call(global.process) === \"[object process]\") {\n    // For Node.js before 0.9\n    installNextTickImplementation();\n  } else if (canUsePostMessage()) {\n    // For non-IE10 modern browsers\n    installPostMessageImplementation();\n  } else if (global.MessageChannel) {\n    // For web workers, where supported\n    installMessageChannelImplementation();\n  } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n    // For IE 6–8\n    installReadyStateChangeImplementation();\n  } else {\n    // For older browsers\n    installSetTimeoutImplementation();\n  }\n\n  attachTo.setImmediate = setImmediate;\n  attachTo.clearImmediate = clearImmediate;\n})(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self);","const defaultBackgroundColor = '#efefef';\n\nexport default imgData => {\n  const { imageFile, url } = imgData;\n  const imgSharp = imageFile && imageFile.childImageSharp ? imageFile.childImageSharp : null;\n  const fluid =\n    imgSharp !== null ? imgSharp.fluid : { src: url, sizes: '', srcSet: url, aspectRatio: 1.41 };\n  const backgroundColor =\n    imageFile && imageFile.colors !== null ? imageFile.colors.muted : defaultBackgroundColor;\n\n  return { fluid, backgroundColor };\n};\n","import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.array.reduce\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.weak-map\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.date.to-string\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.define-property\";\n\n/*! @vimeo/player v2.10.0 | (c) 2019 Vimeo | MIT License | https://github.com/vimeo/player.js */\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n/**\n * @module lib/functions\n */\n\n/**\n * Check to see this is a node environment.\n * @type {Boolean}\n */\n\n/* global global */\n\n\nvar isNode = typeof global !== 'undefined' && {}.toString.call(global) === '[object global]';\n/**\n * Get the name of the method for a given getter or setter.\n *\n * @param {string} prop The name of the property.\n * @param {string} type Either “get” or “set”.\n * @return {string}\n */\n\nfunction getMethodName(prop, type) {\n  if (prop.indexOf(type.toLowerCase()) === 0) {\n    return prop;\n  }\n\n  return \"\".concat(type.toLowerCase()).concat(prop.substr(0, 1).toUpperCase()).concat(prop.substr(1));\n}\n/**\n * Check to see if the object is a DOM Element.\n *\n * @param {*} element The object to check.\n * @return {boolean}\n */\n\n\nfunction isDomElement(element) {\n  return Boolean(element && element.nodeType === 1 && 'nodeName' in element && element.ownerDocument && element.ownerDocument.defaultView);\n}\n/**\n * Check to see whether the value is a number.\n *\n * @see http://dl.dropboxusercontent.com/u/35146/js/tests/isNumber.html\n * @param {*} value The value to check.\n * @param {boolean} integer Check if the value is an integer.\n * @return {boolean}\n */\n\n\nfunction isInteger(value) {\n  // eslint-disable-next-line eqeqeq\n  return !isNaN(parseFloat(value)) && isFinite(value) && Math.floor(value) == value;\n}\n/**\n * Check to see if the URL is a Vimeo url.\n *\n * @param {string} url The url string.\n * @return {boolean}\n */\n\n\nfunction isVimeoUrl(url) {\n  return /^(https?:)?\\/\\/((player|www)\\.)?vimeo\\.com(?=$|\\/)/.test(url);\n}\n/**\n * Get the Vimeo URL from an element.\n * The element must have either a data-vimeo-id or data-vimeo-url attribute.\n *\n * @param {object} oEmbedParameters The oEmbed parameters.\n * @return {string}\n */\n\n\nfunction getVimeoUrl() {\n  var oEmbedParameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var id = oEmbedParameters.id;\n  var url = oEmbedParameters.url;\n  var idOrUrl = id || url;\n\n  if (!idOrUrl) {\n    throw new Error('An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.');\n  }\n\n  if (isInteger(idOrUrl)) {\n    return \"https://vimeo.com/\".concat(idOrUrl);\n  }\n\n  if (isVimeoUrl(idOrUrl)) {\n    return idOrUrl.replace('http:', 'https:');\n  }\n\n  if (id) {\n    throw new TypeError(\"\\u201C\".concat(id, \"\\u201D is not a valid video id.\"));\n  }\n\n  throw new TypeError(\"\\u201C\".concat(idOrUrl, \"\\u201D is not a vimeo.com url.\"));\n}\n\nvar arrayIndexOfSupport = typeof Array.prototype.indexOf !== 'undefined';\nvar postMessageSupport = typeof window !== 'undefined' && typeof window.postMessage !== 'undefined';\n\nif (!isNode && (!arrayIndexOfSupport || !postMessageSupport)) {\n  throw new Error('Sorry, the Vimeo Player API is not available in this browser.');\n}\n\nvar commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\n/*!\n * weakmap-polyfill v2.0.0 - ECMAScript6 WeakMap polyfill\n * https://github.com/polygonplanet/weakmap-polyfill\n * Copyright (c) 2015-2016 polygon planet <polygon.planet.aqua@gmail.com>\n * @license MIT\n */\n\n\n(function (self) {\n  if (self.WeakMap) {\n    return;\n  }\n\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n  var defineProperty = function defineProperty(object, name, value) {\n    if (Object.defineProperty) {\n      Object.defineProperty(object, name, {\n        configurable: true,\n        writable: true,\n        value: value\n      });\n    } else {\n      object[name] = value;\n    }\n  };\n\n  self.WeakMap = function () {\n    // ECMA-262 23.3 WeakMap Objects\n    function WeakMap() {\n      if (this === void 0) {\n        throw new TypeError(\"Constructor WeakMap requires 'new'\");\n      }\n\n      defineProperty(this, '_id', genId('_WeakMap')); // ECMA-262 23.3.1.1 WeakMap([iterable])\n\n      if (arguments.length > 0) {\n        // Currently, WeakMap `iterable` argument is not supported\n        throw new TypeError('WeakMap iterable is not supported');\n      }\n    } // ECMA-262 23.3.3.2 WeakMap.prototype.delete(key)\n\n\n    defineProperty(WeakMap.prototype, 'delete', function (key) {\n      checkInstance(this, 'delete');\n\n      if (!isObject(key)) {\n        return false;\n      }\n\n      var entry = key[this._id];\n\n      if (entry && entry[0] === key) {\n        delete key[this._id];\n        return true;\n      }\n\n      return false;\n    }); // ECMA-262 23.3.3.3 WeakMap.prototype.get(key)\n\n    defineProperty(WeakMap.prototype, 'get', function (key) {\n      checkInstance(this, 'get');\n\n      if (!isObject(key)) {\n        return void 0;\n      }\n\n      var entry = key[this._id];\n\n      if (entry && entry[0] === key) {\n        return entry[1];\n      }\n\n      return void 0;\n    }); // ECMA-262 23.3.3.4 WeakMap.prototype.has(key)\n\n    defineProperty(WeakMap.prototype, 'has', function (key) {\n      checkInstance(this, 'has');\n\n      if (!isObject(key)) {\n        return false;\n      }\n\n      var entry = key[this._id];\n\n      if (entry && entry[0] === key) {\n        return true;\n      }\n\n      return false;\n    }); // ECMA-262 23.3.3.5 WeakMap.prototype.set(key, value)\n\n    defineProperty(WeakMap.prototype, 'set', function (key, value) {\n      checkInstance(this, 'set');\n\n      if (!isObject(key)) {\n        throw new TypeError('Invalid value used as weak map key');\n      }\n\n      var entry = key[this._id];\n\n      if (entry && entry[0] === key) {\n        entry[1] = value;\n        return this;\n      }\n\n      defineProperty(key, this._id, [key, value]);\n      return this;\n    });\n\n    function checkInstance(x, methodName) {\n      if (!isObject(x) || !hasOwnProperty.call(x, '_id')) {\n        throw new TypeError(methodName + ' method called on incompatible receiver ' + typeof x);\n      }\n    }\n\n    function genId(prefix) {\n      return prefix + '_' + rand() + '.' + rand();\n    }\n\n    function rand() {\n      return Math.random().toString().substring(2);\n    }\n\n    defineProperty(WeakMap, '_polyfill', true);\n    return WeakMap;\n  }();\n\n  function isObject(x) {\n    return Object(x) === x;\n  }\n})(typeof self !== 'undefined' ? self : typeof window !== 'undefined' ? window : typeof commonjsGlobal !== 'undefined' ? commonjsGlobal : commonjsGlobal);\n\nvar npo_src = createCommonjsModule(function (module) {\n  /*! Native Promise Only\n      v0.8.1 (c) Kyle Simpson\n      MIT License: http://getify.mit-license.org\n  */\n  (function UMD(name, context, definition) {\n    // special form of UMD for polyfilling across evironments\n    context[name] = context[name] || definition();\n\n    if (module.exports) {\n      module.exports = context[name];\n    }\n  })(\"Promise\", typeof commonjsGlobal != \"undefined\" ? commonjsGlobal : commonjsGlobal, function DEF() {\n    var builtInProp,\n        cycle,\n        scheduling_queue,\n        ToString = Object.prototype.toString,\n        timer = typeof setImmediate != \"undefined\" ? function timer(fn) {\n      return setImmediate(fn);\n    } : setTimeout; // dammit, IE8.\n\n    try {\n      Object.defineProperty({}, \"x\", {});\n\n      builtInProp = function builtInProp(obj, name, val, config) {\n        return Object.defineProperty(obj, name, {\n          value: val,\n          writable: true,\n          configurable: config !== false\n        });\n      };\n    } catch (err) {\n      builtInProp = function builtInProp(obj, name, val) {\n        obj[name] = val;\n        return obj;\n      };\n    } // Note: using a queue instead of array for efficiency\n\n\n    scheduling_queue = function Queue() {\n      var first, last, item;\n\n      function Item(fn, self) {\n        this.fn = fn;\n        this.self = self;\n        this.next = void 0;\n      }\n\n      return {\n        add: function add(fn, self) {\n          item = new Item(fn, self);\n\n          if (last) {\n            last.next = item;\n          } else {\n            first = item;\n          }\n\n          last = item;\n          item = void 0;\n        },\n        drain: function drain() {\n          var f = first;\n          first = last = cycle = void 0;\n\n          while (f) {\n            f.fn.call(f.self);\n            f = f.next;\n          }\n        }\n      };\n    }();\n\n    function schedule(fn, self) {\n      scheduling_queue.add(fn, self);\n\n      if (!cycle) {\n        cycle = timer(scheduling_queue.drain);\n      }\n    } // promise duck typing\n\n\n    function isThenable(o) {\n      var _then,\n          o_type = typeof o;\n\n      if (o != null && (o_type == \"object\" || o_type == \"function\")) {\n        _then = o.then;\n      }\n\n      return typeof _then == \"function\" ? _then : false;\n    }\n\n    function notify() {\n      for (var i = 0; i < this.chain.length; i++) {\n        notifyIsolated(this, this.state === 1 ? this.chain[i].success : this.chain[i].failure, this.chain[i]);\n      }\n\n      this.chain.length = 0;\n    } // NOTE: This is a separate function to isolate\n    // the `try..catch` so that other code can be\n    // optimized better\n\n\n    function notifyIsolated(self, cb, chain) {\n      var ret, _then;\n\n      try {\n        if (cb === false) {\n          chain.reject(self.msg);\n        } else {\n          if (cb === true) {\n            ret = self.msg;\n          } else {\n            ret = cb.call(void 0, self.msg);\n          }\n\n          if (ret === chain.promise) {\n            chain.reject(TypeError(\"Promise-chain cycle\"));\n          } else if (_then = isThenable(ret)) {\n            _then.call(ret, chain.resolve, chain.reject);\n          } else {\n            chain.resolve(ret);\n          }\n        }\n      } catch (err) {\n        chain.reject(err);\n      }\n    }\n\n    function resolve(msg) {\n      var _then,\n          self = this; // already triggered?\n\n\n      if (self.triggered) {\n        return;\n      }\n\n      self.triggered = true; // unwrap\n\n      if (self.def) {\n        self = self.def;\n      }\n\n      try {\n        if (_then = isThenable(msg)) {\n          schedule(function () {\n            var def_wrapper = new MakeDefWrapper(self);\n\n            try {\n              _then.call(msg, function $resolve$() {\n                resolve.apply(def_wrapper, arguments);\n              }, function $reject$() {\n                reject.apply(def_wrapper, arguments);\n              });\n            } catch (err) {\n              reject.call(def_wrapper, err);\n            }\n          });\n        } else {\n          self.msg = msg;\n          self.state = 1;\n\n          if (self.chain.length > 0) {\n            schedule(notify, self);\n          }\n        }\n      } catch (err) {\n        reject.call(new MakeDefWrapper(self), err);\n      }\n    }\n\n    function reject(msg) {\n      var self = this; // already triggered?\n\n      if (self.triggered) {\n        return;\n      }\n\n      self.triggered = true; // unwrap\n\n      if (self.def) {\n        self = self.def;\n      }\n\n      self.msg = msg;\n      self.state = 2;\n\n      if (self.chain.length > 0) {\n        schedule(notify, self);\n      }\n    }\n\n    function iteratePromises(Constructor, arr, resolver, rejecter) {\n      for (var idx = 0; idx < arr.length; idx++) {\n        (function IIFE(idx) {\n          Constructor.resolve(arr[idx]).then(function $resolver$(msg) {\n            resolver(idx, msg);\n          }, rejecter);\n        })(idx);\n      }\n    }\n\n    function MakeDefWrapper(self) {\n      this.def = self;\n      this.triggered = false;\n    }\n\n    function MakeDef(self) {\n      this.promise = self;\n      this.state = 0;\n      this.triggered = false;\n      this.chain = [];\n      this.msg = void 0;\n    }\n\n    function Promise(executor) {\n      if (typeof executor != \"function\") {\n        throw TypeError(\"Not a function\");\n      }\n\n      if (this.__NPO__ !== 0) {\n        throw TypeError(\"Not a promise\");\n      } // instance shadowing the inherited \"brand\"\n      // to signal an already \"initialized\" promise\n\n\n      this.__NPO__ = 1;\n      var def = new MakeDef(this);\n\n      this[\"then\"] = function then(success, failure) {\n        var o = {\n          success: typeof success == \"function\" ? success : true,\n          failure: typeof failure == \"function\" ? failure : false\n        }; // Note: `then(..)` itself can be borrowed to be used against\n        // a different promise constructor for making the chained promise,\n        // by substituting a different `this` binding.\n\n        o.promise = new this.constructor(function extractChain(resolve, reject) {\n          if (typeof resolve != \"function\" || typeof reject != \"function\") {\n            throw TypeError(\"Not a function\");\n          }\n\n          o.resolve = resolve;\n          o.reject = reject;\n        });\n        def.chain.push(o);\n\n        if (def.state !== 0) {\n          schedule(notify, def);\n        }\n\n        return o.promise;\n      };\n\n      this[\"catch\"] = function $catch$(failure) {\n        return this.then(void 0, failure);\n      };\n\n      try {\n        executor.call(void 0, function publicResolve(msg) {\n          resolve.call(def, msg);\n        }, function publicReject(msg) {\n          reject.call(def, msg);\n        });\n      } catch (err) {\n        reject.call(def, err);\n      }\n    }\n\n    var PromisePrototype = builtInProp({}, \"constructor\", Promise,\n    /*configurable=*/\n    false); // Note: Android 4 cannot use `Object.defineProperty(..)` here\n\n    Promise.prototype = PromisePrototype; // built-in \"brand\" to signal an \"uninitialized\" promise\n\n    builtInProp(PromisePrototype, \"__NPO__\", 0,\n    /*configurable=*/\n    false);\n    builtInProp(Promise, \"resolve\", function Promise$resolve(msg) {\n      var Constructor = this; // spec mandated checks\n      // note: best \"isPromise\" check that's practical for now\n\n      if (msg && typeof msg == \"object\" && msg.__NPO__ === 1) {\n        return msg;\n      }\n\n      return new Constructor(function executor(resolve, reject) {\n        if (typeof resolve != \"function\" || typeof reject != \"function\") {\n          throw TypeError(\"Not a function\");\n        }\n\n        resolve(msg);\n      });\n    });\n    builtInProp(Promise, \"reject\", function Promise$reject(msg) {\n      return new this(function executor(resolve, reject) {\n        if (typeof resolve != \"function\" || typeof reject != \"function\") {\n          throw TypeError(\"Not a function\");\n        }\n\n        reject(msg);\n      });\n    });\n    builtInProp(Promise, \"all\", function Promise$all(arr) {\n      var Constructor = this; // spec mandated checks\n\n      if (ToString.call(arr) != \"[object Array]\") {\n        return Constructor.reject(TypeError(\"Not an array\"));\n      }\n\n      if (arr.length === 0) {\n        return Constructor.resolve([]);\n      }\n\n      return new Constructor(function executor(resolve, reject) {\n        if (typeof resolve != \"function\" || typeof reject != \"function\") {\n          throw TypeError(\"Not a function\");\n        }\n\n        var len = arr.length,\n            msgs = Array(len),\n            count = 0;\n        iteratePromises(Constructor, arr, function resolver(idx, msg) {\n          msgs[idx] = msg;\n\n          if (++count === len) {\n            resolve(msgs);\n          }\n        }, reject);\n      });\n    });\n    builtInProp(Promise, \"race\", function Promise$race(arr) {\n      var Constructor = this; // spec mandated checks\n\n      if (ToString.call(arr) != \"[object Array]\") {\n        return Constructor.reject(TypeError(\"Not an array\"));\n      }\n\n      return new Constructor(function executor(resolve, reject) {\n        if (typeof resolve != \"function\" || typeof reject != \"function\") {\n          throw TypeError(\"Not a function\");\n        }\n\n        iteratePromises(Constructor, arr, function resolver(idx, msg) {\n          resolve(msg);\n        }, reject);\n      });\n    });\n    return Promise;\n  });\n});\n/**\n * @module lib/callbacks\n */\n\nvar callbackMap = new WeakMap();\n/**\n * Store a callback for a method or event for a player.\n *\n * @param {Player} player The player object.\n * @param {string} name The method or event name.\n * @param {(function(this:Player, *): void|{resolve: function, reject: function})} callback\n *        The callback to call or an object with resolve and reject functions for a promise.\n * @return {void}\n */\n\nfunction storeCallback(player, name, callback) {\n  var playerCallbacks = callbackMap.get(player.element) || {};\n\n  if (!(name in playerCallbacks)) {\n    playerCallbacks[name] = [];\n  }\n\n  playerCallbacks[name].push(callback);\n  callbackMap.set(player.element, playerCallbacks);\n}\n/**\n * Get the callbacks for a player and event or method.\n *\n * @param {Player} player The player object.\n * @param {string} name The method or event name\n * @return {function[]}\n */\n\n\nfunction getCallbacks(player, name) {\n  var playerCallbacks = callbackMap.get(player.element) || {};\n  return playerCallbacks[name] || [];\n}\n/**\n * Remove a stored callback for a method or event for a player.\n *\n * @param {Player} player The player object.\n * @param {string} name The method or event name\n * @param {function} [callback] The specific callback to remove.\n * @return {boolean} Was this the last callback?\n */\n\n\nfunction removeCallback(player, name, callback) {\n  var playerCallbacks = callbackMap.get(player.element) || {};\n\n  if (!playerCallbacks[name]) {\n    return true;\n  } // If no callback is passed, remove all callbacks for the event\n\n\n  if (!callback) {\n    playerCallbacks[name] = [];\n    callbackMap.set(player.element, playerCallbacks);\n    return true;\n  }\n\n  var index = playerCallbacks[name].indexOf(callback);\n\n  if (index !== -1) {\n    playerCallbacks[name].splice(index, 1);\n  }\n\n  callbackMap.set(player.element, playerCallbacks);\n  return playerCallbacks[name] && playerCallbacks[name].length === 0;\n}\n/**\n * Return the first stored callback for a player and event or method.\n *\n * @param {Player} player The player object.\n * @param {string} name The method or event name.\n * @return {function} The callback, or false if there were none\n */\n\n\nfunction shiftCallbacks(player, name) {\n  var playerCallbacks = getCallbacks(player, name);\n\n  if (playerCallbacks.length < 1) {\n    return false;\n  }\n\n  var callback = playerCallbacks.shift();\n  removeCallback(player, name, callback);\n  return callback;\n}\n/**\n * Move callbacks associated with an element to another element.\n *\n * @param {HTMLElement} oldElement The old element.\n * @param {HTMLElement} newElement The new element.\n * @return {void}\n */\n\n\nfunction swapCallbacks(oldElement, newElement) {\n  var playerCallbacks = callbackMap.get(oldElement);\n  callbackMap.set(newElement, playerCallbacks);\n  callbackMap[\"delete\"](oldElement);\n}\n/**\n * @module lib/embed\n */\n\n\nvar oEmbedParameters = ['autopause', 'autoplay', 'background', 'byline', 'color', 'controls', 'dnt', 'height', 'id', 'loop', 'maxheight', 'maxwidth', 'muted', 'playsinline', 'portrait', 'responsive', 'speed', 'texttrack', 'title', 'transparent', 'url', 'width'];\n/**\n * Get the 'data-vimeo'-prefixed attributes from an element as an object.\n *\n * @param {HTMLElement} element The element.\n * @param {Object} [defaults={}] The default values to use.\n * @return {Object<string, string>}\n */\n\nfunction getOEmbedParameters(element) {\n  var defaults = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return oEmbedParameters.reduce(function (params, param) {\n    var value = element.getAttribute(\"data-vimeo-\".concat(param));\n\n    if (value || value === '') {\n      params[param] = value === '' ? 1 : value;\n    }\n\n    return params;\n  }, defaults);\n}\n/**\n * Create an embed from oEmbed data inside an element.\n *\n * @param {object} data The oEmbed data.\n * @param {HTMLElement} element The element to put the iframe in.\n * @return {HTMLIFrameElement} The iframe embed.\n */\n\n\nfunction createEmbed(_ref, element) {\n  var html = _ref.html;\n\n  if (!element) {\n    throw new TypeError('An element must be provided');\n  }\n\n  if (element.getAttribute('data-vimeo-initialized') !== null) {\n    return element.querySelector('iframe');\n  }\n\n  var div = document.createElement('div');\n  div.innerHTML = html;\n  element.appendChild(div.firstChild);\n  element.setAttribute('data-vimeo-initialized', 'true');\n  return element.querySelector('iframe');\n}\n/**\n * Make an oEmbed call for the specified URL.\n *\n * @param {string} videoUrl The vimeo.com url for the video.\n * @param {Object} [params] Parameters to pass to oEmbed.\n * @param {HTMLElement} element The element.\n * @return {Promise}\n */\n\n\nfunction getOEmbedData(videoUrl) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var element = arguments.length > 2 ? arguments[2] : undefined;\n  return new Promise(function (resolve, reject) {\n    if (!isVimeoUrl(videoUrl)) {\n      throw new TypeError(\"\\u201C\".concat(videoUrl, \"\\u201D is not a vimeo.com url.\"));\n    }\n\n    var url = \"https://vimeo.com/api/oembed.json?url=\".concat(encodeURIComponent(videoUrl));\n\n    for (var param in params) {\n      if (params.hasOwnProperty(param)) {\n        url += \"&\".concat(param, \"=\").concat(encodeURIComponent(params[param]));\n      }\n    }\n\n    var xhr = 'XDomainRequest' in window ? new XDomainRequest() : new XMLHttpRequest();\n    xhr.open('GET', url, true);\n\n    xhr.onload = function () {\n      if (xhr.status === 404) {\n        reject(new Error(\"\\u201C\".concat(videoUrl, \"\\u201D was not found.\")));\n        return;\n      }\n\n      if (xhr.status === 403) {\n        reject(new Error(\"\\u201C\".concat(videoUrl, \"\\u201D is not embeddable.\")));\n        return;\n      }\n\n      try {\n        var json = JSON.parse(xhr.responseText); // Check api response for 403 on oembed\n\n        if (json.domain_status_code === 403) {\n          // We still want to create the embed to give users visual feedback\n          createEmbed(json, element);\n          reject(new Error(\"\\u201C\".concat(videoUrl, \"\\u201D is not embeddable.\")));\n          return;\n        }\n\n        resolve(json);\n      } catch (error) {\n        reject(error);\n      }\n    };\n\n    xhr.onerror = function () {\n      var status = xhr.status ? \" (\".concat(xhr.status, \")\") : '';\n      reject(new Error(\"There was an error fetching the embed code from Vimeo\".concat(status, \".\")));\n    };\n\n    xhr.send();\n  });\n}\n/**\n * Initialize all embeds within a specific element\n *\n * @param {HTMLElement} [parent=document] The parent element.\n * @return {void}\n */\n\n\nfunction initializeEmbeds() {\n  var parent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n  var elements = [].slice.call(parent.querySelectorAll('[data-vimeo-id], [data-vimeo-url]'));\n\n  var handleError = function handleError(error) {\n    if ('console' in window && console.error) {\n      console.error(\"There was an error creating an embed: \".concat(error));\n    }\n  };\n\n  elements.forEach(function (element) {\n    try {\n      // Skip any that have data-vimeo-defer\n      if (element.getAttribute('data-vimeo-defer') !== null) {\n        return;\n      }\n\n      var params = getOEmbedParameters(element);\n      var url = getVimeoUrl(params);\n      getOEmbedData(url, params, element).then(function (data) {\n        return createEmbed(data, element);\n      })[\"catch\"](handleError);\n    } catch (error) {\n      handleError(error);\n    }\n  });\n}\n/**\n * Resize embeds when messaged by the player.\n *\n * @param {HTMLElement} [parent=document] The parent element.\n * @return {void}\n */\n\n\nfunction resizeEmbeds() {\n  var parent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document; // Prevent execution if users include the player.js script multiple times.\n\n  if (window.VimeoPlayerResizeEmbeds_) {\n    return;\n  }\n\n  window.VimeoPlayerResizeEmbeds_ = true;\n\n  var onMessage = function onMessage(event) {\n    if (!isVimeoUrl(event.origin)) {\n      return;\n    } // 'spacechange' is fired only on embeds with cards\n\n\n    if (!event.data || event.data.event !== 'spacechange') {\n      return;\n    }\n\n    var iframes = parent.querySelectorAll('iframe');\n\n    for (var i = 0; i < iframes.length; i++) {\n      if (iframes[i].contentWindow !== event.source) {\n        continue;\n      } // Change padding-bottom of the enclosing div to accommodate\n      // card carousel without distorting aspect ratio\n\n\n      var space = iframes[i].parentElement;\n      space.style.paddingBottom = \"\".concat(event.data.data[0].bottom, \"px\");\n      break;\n    }\n  };\n\n  if (window.addEventListener) {\n    window.addEventListener('message', onMessage, false);\n  } else if (window.attachEvent) {\n    window.attachEvent('onmessage', onMessage);\n  }\n}\n/**\n * @module lib/postmessage\n */\n\n/**\n * Parse a message received from postMessage.\n *\n * @param {*} data The data received from postMessage.\n * @return {object}\n */\n\n\nfunction parseMessageData(data) {\n  if (typeof data === 'string') {\n    try {\n      data = JSON.parse(data);\n    } catch (error) {\n      // If the message cannot be parsed, throw the error as a warning\n      console.warn(error);\n      return {};\n    }\n  }\n\n  return data;\n}\n/**\n * Post a message to the specified target.\n *\n * @param {Player} player The player object to use.\n * @param {string} method The API method to call.\n * @param {object} params The parameters to send to the player.\n * @return {void}\n */\n\n\nfunction postMessage(player, method, params) {\n  if (!player.element.contentWindow || !player.element.contentWindow.postMessage) {\n    return;\n  }\n\n  var message = {\n    method: method\n  };\n\n  if (params !== undefined) {\n    message.value = params;\n  } // IE 8 and 9 do not support passing messages, so stringify them\n\n\n  var ieVersion = parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\\d+).*$/, '$1'));\n\n  if (ieVersion >= 8 && ieVersion < 10) {\n    message = JSON.stringify(message);\n  }\n\n  player.element.contentWindow.postMessage(message, player.origin);\n}\n/**\n * Parse the data received from a message event.\n *\n * @param {Player} player The player that received the message.\n * @param {(Object|string)} data The message data. Strings will be parsed into JSON.\n * @return {void}\n */\n\n\nfunction processData(player, data) {\n  data = parseMessageData(data);\n  var callbacks = [];\n  var param;\n\n  if (data.event) {\n    if (data.event === 'error') {\n      var promises = getCallbacks(player, data.data.method);\n      promises.forEach(function (promise) {\n        var error = new Error(data.data.message);\n        error.name = data.data.name;\n        promise.reject(error);\n        removeCallback(player, data.data.method, promise);\n      });\n    }\n\n    callbacks = getCallbacks(player, \"event:\".concat(data.event));\n    param = data.data;\n  } else if (data.method) {\n    var callback = shiftCallbacks(player, data.method);\n\n    if (callback) {\n      callbacks.push(callback);\n      param = data.value;\n    }\n  }\n\n  callbacks.forEach(function (callback) {\n    try {\n      if (typeof callback === 'function') {\n        callback.call(player, param);\n        return;\n      }\n\n      callback.resolve(param);\n    } catch (e) {// empty\n    }\n  });\n}\n\nvar playerMap = new WeakMap();\nvar readyMap = new WeakMap();\n\nvar Player =\n/*#__PURE__*/\nfunction () {\n  /**\n   * Create a Player.\n   *\n   * @param {(HTMLIFrameElement|HTMLElement|string|jQuery)} element A reference to the Vimeo\n   *        player iframe, and id, or a jQuery object.\n   * @param {object} [options] oEmbed parameters to use when creating an embed in the element.\n   * @return {Player}\n   */\n  function Player(element) {\n    var _this = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Player);\n    /* global jQuery */\n\n\n    if (window.jQuery && element instanceof jQuery) {\n      if (element.length > 1 && window.console && console.warn) {\n        console.warn('A jQuery object with multiple elements was passed, using the first element.');\n      }\n\n      element = element[0];\n    } // Find an element by ID\n\n\n    if (typeof document !== 'undefined' && typeof element === 'string') {\n      element = document.getElementById(element);\n    } // Not an element!\n\n\n    if (!isDomElement(element)) {\n      throw new TypeError('You must pass either a valid element or a valid id.');\n    }\n\n    var win = element.ownerDocument.defaultView; // Already initialized an embed in this div, so grab the iframe\n\n    if (element.nodeName !== 'IFRAME') {\n      var iframe = element.querySelector('iframe');\n\n      if (iframe) {\n        element = iframe;\n      }\n    } // iframe url is not a Vimeo url\n\n\n    if (element.nodeName === 'IFRAME' && !isVimeoUrl(element.getAttribute('src') || '')) {\n      throw new Error('The player element passed isn’t a Vimeo embed.');\n    } // If there is already a player object in the map, return that\n\n\n    if (playerMap.has(element)) {\n      return playerMap.get(element);\n    }\n\n    this.element = element;\n    this.origin = '*';\n    var readyPromise = new npo_src(function (resolve, reject) {\n      var onMessage = function onMessage(event) {\n        if (!isVimeoUrl(event.origin) || _this.element.contentWindow !== event.source) {\n          return;\n        }\n\n        if (_this.origin === '*') {\n          _this.origin = event.origin;\n        }\n\n        var data = parseMessageData(event.data);\n        var isError = data && data.event === 'error';\n        var isReadyError = isError && data.data && data.data.method === 'ready';\n\n        if (isReadyError) {\n          var error = new Error(data.data.message);\n          error.name = data.data.name;\n          reject(error);\n          return;\n        }\n\n        var isReadyEvent = data && data.event === 'ready';\n        var isPingResponse = data && data.method === 'ping';\n\n        if (isReadyEvent || isPingResponse) {\n          _this.element.setAttribute('data-ready', 'true');\n\n          resolve();\n          return;\n        }\n\n        processData(_this, data);\n      };\n\n      if (win.addEventListener) {\n        win.addEventListener('message', onMessage, false);\n      } else if (win.attachEvent) {\n        win.attachEvent('onmessage', onMessage);\n      }\n\n      if (_this.element.nodeName !== 'IFRAME') {\n        var params = getOEmbedParameters(element, options);\n        var url = getVimeoUrl(params);\n        getOEmbedData(url, params, element).then(function (data) {\n          var iframe = createEmbed(data, element); // Overwrite element with the new iframe,\n          // but store reference to the original element\n\n          _this.element = iframe;\n          _this._originalElement = element;\n          swapCallbacks(element, iframe);\n          playerMap.set(_this.element, _this);\n          return data;\n        })[\"catch\"](reject);\n      }\n    }); // Store a copy of this Player in the map\n\n    readyMap.set(this, readyPromise);\n    playerMap.set(this.element, this); // Send a ping to the iframe so the ready promise will be resolved if\n    // the player is already ready.\n\n    if (this.element.nodeName === 'IFRAME') {\n      postMessage(this, 'ping');\n    }\n\n    return this;\n  }\n  /**\n   * Get a promise for a method.\n   *\n   * @param {string} name The API method to call.\n   * @param {Object} [args={}] Arguments to send via postMessage.\n   * @return {Promise}\n   */\n\n\n  _createClass(Player, [{\n    key: \"callMethod\",\n    value: function callMethod(name) {\n      var _this2 = this;\n\n      var args = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return new npo_src(function (resolve, reject) {\n        // We are storing the resolve/reject handlers to call later, so we\n        // can’t return here.\n        // eslint-disable-next-line promise/always-return\n        return _this2.ready().then(function () {\n          storeCallback(_this2, name, {\n            resolve: resolve,\n            reject: reject\n          });\n          postMessage(_this2, name, args);\n        })[\"catch\"](reject);\n      });\n    }\n    /**\n     * Get a promise for the value of a player property.\n     *\n     * @param {string} name The property name\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"get\",\n    value: function get(name) {\n      var _this3 = this;\n\n      return new npo_src(function (resolve, reject) {\n        name = getMethodName(name, 'get'); // We are storing the resolve/reject handlers to call later, so we\n        // can’t return here.\n        // eslint-disable-next-line promise/always-return\n\n        return _this3.ready().then(function () {\n          storeCallback(_this3, name, {\n            resolve: resolve,\n            reject: reject\n          });\n          postMessage(_this3, name);\n        })[\"catch\"](reject);\n      });\n    }\n    /**\n     * Get a promise for setting the value of a player property.\n     *\n     * @param {string} name The API method to call.\n     * @param {mixed} value The value to set.\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"set\",\n    value: function set(name, value) {\n      var _this4 = this;\n\n      return new npo_src(function (resolve, reject) {\n        name = getMethodName(name, 'set');\n\n        if (value === undefined || value === null) {\n          throw new TypeError('There must be a value to set.');\n        } // We are storing the resolve/reject handlers to call later, so we\n        // can’t return here.\n        // eslint-disable-next-line promise/always-return\n\n\n        return _this4.ready().then(function () {\n          storeCallback(_this4, name, {\n            resolve: resolve,\n            reject: reject\n          });\n          postMessage(_this4, name, value);\n        })[\"catch\"](reject);\n      });\n    }\n    /**\n     * Add an event listener for the specified event. Will call the\n     * callback with a single parameter, `data`, that contains the data for\n     * that event.\n     *\n     * @param {string} eventName The name of the event.\n     * @param {function(*)} callback The function to call when the event fires.\n     * @return {void}\n     */\n\n  }, {\n    key: \"on\",\n    value: function on(eventName, callback) {\n      if (!eventName) {\n        throw new TypeError('You must pass an event name.');\n      }\n\n      if (!callback) {\n        throw new TypeError('You must pass a callback function.');\n      }\n\n      if (typeof callback !== 'function') {\n        throw new TypeError('The callback must be a function.');\n      }\n\n      var callbacks = getCallbacks(this, \"event:\".concat(eventName));\n\n      if (callbacks.length === 0) {\n        this.callMethod('addEventListener', eventName)[\"catch\"](function () {// Ignore the error. There will be an error event fired that\n          // will trigger the error callback if they are listening.\n        });\n      }\n\n      storeCallback(this, \"event:\".concat(eventName), callback);\n    }\n    /**\n     * Remove an event listener for the specified event. Will remove all\n     * listeners for that event if a `callback` isn’t passed, or only that\n     * specific callback if it is passed.\n     *\n     * @param {string} eventName The name of the event.\n     * @param {function} [callback] The specific callback to remove.\n     * @return {void}\n     */\n\n  }, {\n    key: \"off\",\n    value: function off(eventName, callback) {\n      if (!eventName) {\n        throw new TypeError('You must pass an event name.');\n      }\n\n      if (callback && typeof callback !== 'function') {\n        throw new TypeError('The callback must be a function.');\n      }\n\n      var lastCallback = removeCallback(this, \"event:\".concat(eventName), callback); // If there are no callbacks left, remove the listener\n\n      if (lastCallback) {\n        this.callMethod('removeEventListener', eventName)[\"catch\"](function (e) {// Ignore the error. There will be an error event fired that\n          // will trigger the error callback if they are listening.\n        });\n      }\n    }\n    /**\n     * A promise to load a new video.\n     *\n     * @promise LoadVideoPromise\n     * @fulfill {number} The video with this id successfully loaded.\n     * @reject {TypeError} The id was not a number.\n     */\n\n    /**\n     * Load a new video into this embed. The promise will be resolved if\n     * the video is successfully loaded, or it will be rejected if it could\n     * not be loaded.\n     *\n     * @param {number|object} options The id of the video or an object with embed options.\n     * @return {LoadVideoPromise}\n     */\n\n  }, {\n    key: \"loadVideo\",\n    value: function loadVideo(options) {\n      return this.callMethod('loadVideo', options);\n    }\n    /**\n     * A promise to perform an action when the Player is ready.\n     *\n     * @todo document errors\n     * @promise LoadVideoPromise\n     * @fulfill {void}\n     */\n\n    /**\n     * Trigger a function when the player iframe has initialized. You do not\n     * need to wait for `ready` to trigger to begin adding event listeners\n     * or calling other methods.\n     *\n     * @return {ReadyPromise}\n     */\n\n  }, {\n    key: \"ready\",\n    value: function ready() {\n      var readyPromise = readyMap.get(this) || new npo_src(function (resolve, reject) {\n        reject(new Error('Unknown player. Probably unloaded.'));\n      });\n      return npo_src.resolve(readyPromise);\n    }\n    /**\n     * A promise to add a cue point to the player.\n     *\n     * @promise AddCuePointPromise\n     * @fulfill {string} The id of the cue point to use for removeCuePoint.\n     * @reject {RangeError} the time was less than 0 or greater than the\n     *         video’s duration.\n     * @reject {UnsupportedError} Cue points are not supported with the current\n     *         player or browser.\n     */\n\n    /**\n     * Add a cue point to the player.\n     *\n     * @param {number} time The time for the cue point.\n     * @param {object} [data] Arbitrary data to be returned with the cue point.\n     * @return {AddCuePointPromise}\n     */\n\n  }, {\n    key: \"addCuePoint\",\n    value: function addCuePoint(time) {\n      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return this.callMethod('addCuePoint', {\n        time: time,\n        data: data\n      });\n    }\n    /**\n     * A promise to remove a cue point from the player.\n     *\n     * @promise AddCuePointPromise\n     * @fulfill {string} The id of the cue point that was removed.\n     * @reject {InvalidCuePoint} The cue point with the specified id was not\n     *         found.\n     * @reject {UnsupportedError} Cue points are not supported with the current\n     *         player or browser.\n     */\n\n    /**\n     * Remove a cue point from the video.\n     *\n     * @param {string} id The id of the cue point to remove.\n     * @return {RemoveCuePointPromise}\n     */\n\n  }, {\n    key: \"removeCuePoint\",\n    value: function removeCuePoint(id) {\n      return this.callMethod('removeCuePoint', id);\n    }\n    /**\n     * A representation of a text track on a video.\n     *\n     * @typedef {Object} VimeoTextTrack\n     * @property {string} language The ISO language code.\n     * @property {string} kind The kind of track it is (captions or subtitles).\n     * @property {string} label The human‐readable label for the track.\n     */\n\n    /**\n     * A promise to enable a text track.\n     *\n     * @promise EnableTextTrackPromise\n     * @fulfill {VimeoTextTrack} The text track that was enabled.\n     * @reject {InvalidTrackLanguageError} No track was available with the\n     *         specified language.\n     * @reject {InvalidTrackError} No track was available with the specified\n     *         language and kind.\n     */\n\n    /**\n     * Enable the text track with the specified language, and optionally the\n     * specified kind (captions or subtitles).\n     *\n     * When set via the API, the track language will not change the viewer’s\n     * stored preference.\n     *\n     * @param {string} language The two‐letter language code.\n     * @param {string} [kind] The kind of track to enable (captions or subtitles).\n     * @return {EnableTextTrackPromise}\n     */\n\n  }, {\n    key: \"enableTextTrack\",\n    value: function enableTextTrack(language, kind) {\n      if (!language) {\n        throw new TypeError('You must pass a language.');\n      }\n\n      return this.callMethod('enableTextTrack', {\n        language: language,\n        kind: kind\n      });\n    }\n    /**\n     * A promise to disable the active text track.\n     *\n     * @promise DisableTextTrackPromise\n     * @fulfill {void} The track was disabled.\n     */\n\n    /**\n     * Disable the currently-active text track.\n     *\n     * @return {DisableTextTrackPromise}\n     */\n\n  }, {\n    key: \"disableTextTrack\",\n    value: function disableTextTrack() {\n      return this.callMethod('disableTextTrack');\n    }\n    /**\n     * A promise to pause the video.\n     *\n     * @promise PausePromise\n     * @fulfill {void} The video was paused.\n     */\n\n    /**\n     * Pause the video if it’s playing.\n     *\n     * @return {PausePromise}\n     */\n\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      return this.callMethod('pause');\n    }\n    /**\n     * A promise to play the video.\n     *\n     * @promise PlayPromise\n     * @fulfill {void} The video was played.\n     */\n\n    /**\n     * Play the video if it’s paused. **Note:** on iOS and some other\n     * mobile devices, you cannot programmatically trigger play. Once the\n     * viewer has tapped on the play button in the player, however, you\n     * will be able to use this function.\n     *\n     * @return {PlayPromise}\n     */\n\n  }, {\n    key: \"play\",\n    value: function play() {\n      return this.callMethod('play');\n    }\n    /**\n     * A promise to unload the video.\n     *\n     * @promise UnloadPromise\n     * @fulfill {void} The video was unloaded.\n     */\n\n    /**\n     * Return the player to its initial state.\n     *\n     * @return {UnloadPromise}\n     */\n\n  }, {\n    key: \"unload\",\n    value: function unload() {\n      return this.callMethod('unload');\n    }\n    /**\n     * Cleanup the player and remove it from the DOM\n     *\n     * It won't be usable and a new one should be constructed\n     *  in order to do any operations.\n     *\n     * @return {Promise}\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      var _this5 = this;\n\n      return new npo_src(function (resolve) {\n        readyMap[\"delete\"](_this5);\n        playerMap[\"delete\"](_this5.element);\n\n        if (_this5._originalElement) {\n          playerMap[\"delete\"](_this5._originalElement);\n\n          _this5._originalElement.removeAttribute('data-vimeo-initialized');\n        }\n\n        if (_this5.element && _this5.element.nodeName === 'IFRAME' && _this5.element.parentNode) {\n          _this5.element.parentNode.removeChild(_this5.element);\n        }\n\n        resolve();\n      });\n    }\n    /**\n     * A promise to get the autopause behavior of the video.\n     *\n     * @promise GetAutopausePromise\n     * @fulfill {boolean} Whether autopause is turned on or off.\n     * @reject {UnsupportedError} Autopause is not supported with the current\n     *         player or browser.\n     */\n\n    /**\n     * Get the autopause behavior for this player.\n     *\n     * @return {GetAutopausePromise}\n     */\n\n  }, {\n    key: \"getAutopause\",\n    value: function getAutopause() {\n      return this.get('autopause');\n    }\n    /**\n     * A promise to set the autopause behavior of the video.\n     *\n     * @promise SetAutopausePromise\n     * @fulfill {boolean} Whether autopause is turned on or off.\n     * @reject {UnsupportedError} Autopause is not supported with the current\n     *         player or browser.\n     */\n\n    /**\n     * Enable or disable the autopause behavior of this player.\n     *\n     * By default, when another video is played in the same browser, this\n     * player will automatically pause. Unless you have a specific reason\n     * for doing so, we recommend that you leave autopause set to the\n     * default (`true`).\n     *\n     * @param {boolean} autopause\n     * @return {SetAutopausePromise}\n     */\n\n  }, {\n    key: \"setAutopause\",\n    value: function setAutopause(autopause) {\n      return this.set('autopause', autopause);\n    }\n    /**\n     * A promise to get the buffered property of the video.\n     *\n     * @promise GetBufferedPromise\n     * @fulfill {Array} Buffered Timeranges converted to an Array.\n     */\n\n    /**\n     * Get the buffered property of the video.\n     *\n     * @return {GetBufferedPromise}\n     */\n\n  }, {\n    key: \"getBuffered\",\n    value: function getBuffered() {\n      return this.get('buffered');\n    }\n    /**\n     * A promise to get the color of the player.\n     *\n     * @promise GetColorPromise\n     * @fulfill {string} The hex color of the player.\n     */\n\n    /**\n     * Get the color for this player.\n     *\n     * @return {GetColorPromise}\n     */\n\n  }, {\n    key: \"getColor\",\n    value: function getColor() {\n      return this.get('color');\n    }\n    /**\n     * A promise to set the color of the player.\n     *\n     * @promise SetColorPromise\n     * @fulfill {string} The color was successfully set.\n     * @reject {TypeError} The string was not a valid hex or rgb color.\n     * @reject {ContrastError} The color was set, but the contrast is\n     *         outside of the acceptable range.\n     * @reject {EmbedSettingsError} The owner of the player has chosen to\n     *         use a specific color.\n     */\n\n    /**\n     * Set the color of this player to a hex or rgb string. Setting the\n     * color may fail if the owner of the video has set their embed\n     * preferences to force a specific color.\n     *\n     * @param {string} color The hex or rgb color string to set.\n     * @return {SetColorPromise}\n     */\n\n  }, {\n    key: \"setColor\",\n    value: function setColor(color) {\n      return this.set('color', color);\n    }\n    /**\n     * A representation of a cue point.\n     *\n     * @typedef {Object} VimeoCuePoint\n     * @property {number} time The time of the cue point.\n     * @property {object} data The data passed when adding the cue point.\n     * @property {string} id The unique id for use with removeCuePoint.\n     */\n\n    /**\n     * A promise to get the cue points of a video.\n     *\n     * @promise GetCuePointsPromise\n     * @fulfill {VimeoCuePoint[]} The cue points added to the video.\n     * @reject {UnsupportedError} Cue points are not supported with the current\n     *         player or browser.\n     */\n\n    /**\n     * Get an array of the cue points added to the video.\n     *\n     * @return {GetCuePointsPromise}\n     */\n\n  }, {\n    key: \"getCuePoints\",\n    value: function getCuePoints() {\n      return this.get('cuePoints');\n    }\n    /**\n     * A promise to get the current time of the video.\n     *\n     * @promise GetCurrentTimePromise\n     * @fulfill {number} The current time in seconds.\n     */\n\n    /**\n     * Get the current playback position in seconds.\n     *\n     * @return {GetCurrentTimePromise}\n     */\n\n  }, {\n    key: \"getCurrentTime\",\n    value: function getCurrentTime() {\n      return this.get('currentTime');\n    }\n    /**\n     * A promise to set the current time of the video.\n     *\n     * @promise SetCurrentTimePromise\n     * @fulfill {number} The actual current time that was set.\n     * @reject {RangeError} the time was less than 0 or greater than the\n     *         video’s duration.\n     */\n\n    /**\n     * Set the current playback position in seconds. If the player was\n     * paused, it will remain paused. Likewise, if the player was playing,\n     * it will resume playing once the video has buffered.\n     *\n     * You can provide an accurate time and the player will attempt to seek\n     * to as close to that time as possible. The exact time will be the\n     * fulfilled value of the promise.\n     *\n     * @param {number} currentTime\n     * @return {SetCurrentTimePromise}\n     */\n\n  }, {\n    key: \"setCurrentTime\",\n    value: function setCurrentTime(currentTime) {\n      return this.set('currentTime', currentTime);\n    }\n    /**\n     * A promise to get the duration of the video.\n     *\n     * @promise GetDurationPromise\n     * @fulfill {number} The duration in seconds.\n     */\n\n    /**\n     * Get the duration of the video in seconds. It will be rounded to the\n     * nearest second before playback begins, and to the nearest thousandth\n     * of a second after playback begins.\n     *\n     * @return {GetDurationPromise}\n     */\n\n  }, {\n    key: \"getDuration\",\n    value: function getDuration() {\n      return this.get('duration');\n    }\n    /**\n     * A promise to get the ended state of the video.\n     *\n     * @promise GetEndedPromise\n     * @fulfill {boolean} Whether or not the video has ended.\n     */\n\n    /**\n     * Get the ended state of the video. The video has ended if\n     * `currentTime === duration`.\n     *\n     * @return {GetEndedPromise}\n     */\n\n  }, {\n    key: \"getEnded\",\n    value: function getEnded() {\n      return this.get('ended');\n    }\n    /**\n     * A promise to get the loop state of the player.\n     *\n     * @promise GetLoopPromise\n     * @fulfill {boolean} Whether or not the player is set to loop.\n     */\n\n    /**\n     * Get the loop state of the player.\n     *\n     * @return {GetLoopPromise}\n     */\n\n  }, {\n    key: \"getLoop\",\n    value: function getLoop() {\n      return this.get('loop');\n    }\n    /**\n     * A promise to set the loop state of the player.\n     *\n     * @promise SetLoopPromise\n     * @fulfill {boolean} The loop state that was set.\n     */\n\n    /**\n     * Set the loop state of the player. When set to `true`, the player\n     * will start over immediately once playback ends.\n     *\n     * @param {boolean} loop\n     * @return {SetLoopPromise}\n     */\n\n  }, {\n    key: \"setLoop\",\n    value: function setLoop(loop) {\n      return this.set('loop', loop);\n    }\n    /**\n     * A promise to set the muted state of the player.\n     *\n     * @promise SetMutedPromise\n     * @fulfill {boolean} The muted state that was set.\n     */\n\n    /**\n     * Set the muted state of the player. When set to `true`, the player\n     * volume will be muted.\n     *\n     * @param {boolean} muted\n     * @return {SetMutedPromise}\n     */\n\n  }, {\n    key: \"setMuted\",\n    value: function setMuted(muted) {\n      return this.set('muted', muted);\n    }\n    /**\n     * A promise to get the muted state of the player.\n     *\n     * @promise GetMutedPromise\n     * @fulfill {boolean} Whether or not the player is muted.\n     */\n\n    /**\n     * Get the muted state of the player.\n     *\n     * @return {GetMutedPromise}\n     */\n\n  }, {\n    key: \"getMuted\",\n    value: function getMuted() {\n      return this.get('muted');\n    }\n    /**\n     * A promise to get the paused state of the player.\n     *\n     * @promise GetLoopPromise\n     * @fulfill {boolean} Whether or not the video is paused.\n     */\n\n    /**\n     * Get the paused state of the player.\n     *\n     * @return {GetLoopPromise}\n     */\n\n  }, {\n    key: \"getPaused\",\n    value: function getPaused() {\n      return this.get('paused');\n    }\n    /**\n     * A promise to get the playback rate of the player.\n     *\n     * @promise GetPlaybackRatePromise\n     * @fulfill {number} The playback rate of the player on a scale from 0.5 to 2.\n     */\n\n    /**\n     * Get the playback rate of the player on a scale from `0.5` to `2`.\n     *\n     * @return {GetPlaybackRatePromise}\n     */\n\n  }, {\n    key: \"getPlaybackRate\",\n    value: function getPlaybackRate() {\n      return this.get('playbackRate');\n    }\n    /**\n     * A promise to set the playbackrate of the player.\n     *\n     * @promise SetPlaybackRatePromise\n     * @fulfill {number} The playback rate was set.\n     * @reject {RangeError} The playback rate was less than 0.5 or greater than 2.\n     */\n\n    /**\n     * Set the playback rate of the player on a scale from `0.5` to `2`. When set\n     * via the API, the playback rate will not be synchronized to other\n     * players or stored as the viewer's preference.\n     *\n     * @param {number} playbackRate\n     * @return {SetPlaybackRatePromise}\n     */\n\n  }, {\n    key: \"setPlaybackRate\",\n    value: function setPlaybackRate(playbackRate) {\n      return this.set('playbackRate', playbackRate);\n    }\n    /**\n     * A promise to get the played property of the video.\n     *\n     * @promise GetPlayedPromise\n     * @fulfill {Array} Played Timeranges converted to an Array.\n     */\n\n    /**\n     * Get the played property of the video.\n     *\n     * @return {GetPlayedPromise}\n     */\n\n  }, {\n    key: \"getPlayed\",\n    value: function getPlayed() {\n      return this.get('played');\n    }\n    /**\n     * A promise to get the seekable property of the video.\n     *\n     * @promise GetSeekablePromise\n     * @fulfill {Array} Seekable Timeranges converted to an Array.\n     */\n\n    /**\n     * Get the seekable property of the video.\n     *\n     * @return {GetSeekablePromise}\n     */\n\n  }, {\n    key: \"getSeekable\",\n    value: function getSeekable() {\n      return this.get('seekable');\n    }\n    /**\n     * A promise to get the seeking property of the player.\n     *\n     * @promise GetSeekingPromise\n     * @fulfill {boolean} Whether or not the player is currently seeking.\n     */\n\n    /**\n     * Get if the player is currently seeking.\n     *\n     * @return {GetSeekingPromise}\n     */\n\n  }, {\n    key: \"getSeeking\",\n    value: function getSeeking() {\n      return this.get('seeking');\n    }\n    /**\n     * A promise to get the text tracks of a video.\n     *\n     * @promise GetTextTracksPromise\n     * @fulfill {VimeoTextTrack[]} The text tracks associated with the video.\n     */\n\n    /**\n     * Get an array of the text tracks that exist for the video.\n     *\n     * @return {GetTextTracksPromise}\n     */\n\n  }, {\n    key: \"getTextTracks\",\n    value: function getTextTracks() {\n      return this.get('textTracks');\n    }\n    /**\n     * A promise to get the embed code for the video.\n     *\n     * @promise GetVideoEmbedCodePromise\n     * @fulfill {string} The `<iframe>` embed code for the video.\n     */\n\n    /**\n     * Get the `<iframe>` embed code for the video.\n     *\n     * @return {GetVideoEmbedCodePromise}\n     */\n\n  }, {\n    key: \"getVideoEmbedCode\",\n    value: function getVideoEmbedCode() {\n      return this.get('videoEmbedCode');\n    }\n    /**\n     * A promise to get the id of the video.\n     *\n     * @promise GetVideoIdPromise\n     * @fulfill {number} The id of the video.\n     */\n\n    /**\n     * Get the id of the video.\n     *\n     * @return {GetVideoIdPromise}\n     */\n\n  }, {\n    key: \"getVideoId\",\n    value: function getVideoId() {\n      return this.get('videoId');\n    }\n    /**\n     * A promise to get the title of the video.\n     *\n     * @promise GetVideoTitlePromise\n     * @fulfill {number} The title of the video.\n     */\n\n    /**\n     * Get the title of the video.\n     *\n     * @return {GetVideoTitlePromise}\n     */\n\n  }, {\n    key: \"getVideoTitle\",\n    value: function getVideoTitle() {\n      return this.get('videoTitle');\n    }\n    /**\n     * A promise to get the native width of the video.\n     *\n     * @promise GetVideoWidthPromise\n     * @fulfill {number} The native width of the video.\n     */\n\n    /**\n     * Get the native width of the currently‐playing video. The width of\n     * the highest‐resolution available will be used before playback begins.\n     *\n     * @return {GetVideoWidthPromise}\n     */\n\n  }, {\n    key: \"getVideoWidth\",\n    value: function getVideoWidth() {\n      return this.get('videoWidth');\n    }\n    /**\n     * A promise to get the native height of the video.\n     *\n     * @promise GetVideoHeightPromise\n     * @fulfill {number} The native height of the video.\n     */\n\n    /**\n     * Get the native height of the currently‐playing video. The height of\n     * the highest‐resolution available will be used before playback begins.\n     *\n     * @return {GetVideoHeightPromise}\n     */\n\n  }, {\n    key: \"getVideoHeight\",\n    value: function getVideoHeight() {\n      return this.get('videoHeight');\n    }\n    /**\n     * A promise to get the vimeo.com url for the video.\n     *\n     * @promise GetVideoUrlPromise\n     * @fulfill {number} The vimeo.com url for the video.\n     * @reject {PrivacyError} The url isn’t available because of the video’s privacy setting.\n     */\n\n    /**\n     * Get the vimeo.com url for the video.\n     *\n     * @return {GetVideoUrlPromise}\n     */\n\n  }, {\n    key: \"getVideoUrl\",\n    value: function getVideoUrl() {\n      return this.get('videoUrl');\n    }\n    /**\n     * A promise to get the volume level of the player.\n     *\n     * @promise GetVolumePromise\n     * @fulfill {number} The volume level of the player on a scale from 0 to 1.\n     */\n\n    /**\n     * Get the current volume level of the player on a scale from `0` to `1`.\n     *\n     * Most mobile devices do not support an independent volume from the\n     * system volume. In those cases, this method will always return `1`.\n     *\n     * @return {GetVolumePromise}\n     */\n\n  }, {\n    key: \"getVolume\",\n    value: function getVolume() {\n      return this.get('volume');\n    }\n    /**\n     * A promise to set the volume level of the player.\n     *\n     * @promise SetVolumePromise\n     * @fulfill {number} The volume was set.\n     * @reject {RangeError} The volume was less than 0 or greater than 1.\n     */\n\n    /**\n     * Set the volume of the player on a scale from `0` to `1`. When set\n     * via the API, the volume level will not be synchronized to other\n     * players or stored as the viewer’s preference.\n     *\n     * Most mobile devices do not support setting the volume. An error will\n     * *not* be triggered in that situation.\n     *\n     * @param {number} volume\n     * @return {SetVolumePromise}\n     */\n\n  }, {\n    key: \"setVolume\",\n    value: function setVolume(volume) {\n      return this.set('volume', volume);\n    }\n  }]);\n\n  return Player;\n}(); // Setup embed only if this is not a node environment\n\n\nif (!isNode) {\n  initializeEmbeds();\n  resizeEmbeds();\n}\n\nexport default Player;"],"sourceRoot":""}