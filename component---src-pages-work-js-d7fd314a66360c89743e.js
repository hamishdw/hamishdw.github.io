(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"2e6m":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));i("91GP");var r=i("q1tI"),n=i.n(r),o=i("Wbzz"),a=i("9eSz"),s=i.n(a);var c=function(e){var t,i;function r(t){var i;return(i=e.call(this)||this).data=void 0,i.tileImgs=[],i.loadTiles=[],i.state={limit:32},i.data=t.render.data,i.data=i.data.filter((function(e){return void 0!==e})),i.data.forEach((function(e){var t=e.previewTile,r=t[0].imageFile.childImageSharp,n={};null!==r?n.fluid=Object.assign({},r.fluid):(console.log(t[0].url),n.fluid={src:t[0].url});var o=t[0].optimizedimages.colorPalette[0];n.backgroundColor=o||"#efefef",i.tileImgs.push(n)})),i}i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var a=r.prototype;return a.componentDidMount=function(){this.loadMore()},a.loadMore=function(e){var t=this;e&&e.preventDefault(),this.data.forEach((function(e,i){i<t.state.limit&&(t.loadTiles[i]=e)})),this.setState({limit:this.state.limit+8})},a.render=function(){var e=this;return console.log("this.loadTiles",this.loadTiles),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"work-tile__container"},this.loadTiles.slice(0,this.state.limit).map((function(t,i){return n.a.createElement(o.Link,{className:"work-tile",key:"home tile "+i,to:"/work/articles/"+t.slug},n.a.createElement(s.a,Object.assign({className:"work-tile__image aspect__2-by-1 hover-cursor"},e.tileImgs[i])),n.a.createElement("p",{className:"work-tile__client fontSize-p3 fontSize-uppercase"}," ",t.title," "),n.a.createElement("p",{className:"work-tile__title fontSize-p2",dangerouslySetInnerHTML:{__html:null!==t.description?t.description.content:null}}))}))),this.data.length>this.loadTiles.length?n.a.createElement("div",{className:"work-tile__load-more"},n.a.createElement("a",{href:"",onClick:function(t){e.loadMore(t)},className:"work-tile__load-more-button fontSize-p2"},"Load more work")):n.a.createElement("div",{className:"work-tile__load-more"}))},r}(r.Component)},Ofmp:function(e,t,i){"use strict";i.r(t);i("rGqo"),i("yt8O"),i("Btvt");var r=i("q1tI"),n=i.n(r),o=i("Bl7J"),a=i("vrFN"),s=i("Wbzz"),c=function(e){var t=e.render;return n.a.createElement("div",{className:"work__nav"},n.a.createElement("div",{className:"work__nav-disciplines"},n.a.createElement(s.Link,{className:"work__nav-disciplines-link",to:"/work"},n.a.createElement("h3",{className:"work__nav-disciplines-text fontSize-p2"},"All")),t.disciplines.map((function(e,t){return n.a.createElement(s.Link,{className:"work__nav-disciplines-link",key:e,to:"/work/"+e.toLowerCase()},n.a.createElement("h3",{className:"work__nav-disciplines-text fontSize-p2"},e))}))))},l=i("2e6m"),u=(i("V+eJ"),i("VRzm"),i("iVi/"));i("pIFo"),i("KKXr"),i("8+KV");function f(){return!function(){if("object"!=typeof navigator||"string"!=typeof navigator.userAgent)return!1;return navigator.userAgent.indexOf("Node.js")>=0||navigator.userAgent.indexOf("jsdom")>=0}()&&("object"==typeof document&&"string"==typeof document.cookie)}function p(e,t){void 0===t&&(t={});var i=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return void 0===t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(i,t.doNotParse))try{return JSON.parse(i)}catch(r){}return e}var h=i("MgzW"),d=function(){function e(e){var t=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e){return"string"==typeof e?u.parse(e):"object"==typeof e&&null!==e?e:{}}(e),new Promise((function(){t.HAS_DOCUMENT_COOKIE=f()})).catch((function(){}))}return e.prototype._updateBrowserValues=function(){this.HAS_DOCUMENT_COOKIE&&(this.cookies=u.parse(document.cookie))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t){return void 0===t&&(t={}),this._updateBrowserValues(),p(this.cookies[e],t)},e.prototype.getAll=function(e){void 0===e&&(e={}),this._updateBrowserValues();var t={};for(var i in this.cookies)t[i]=p(this.cookies[i],e);return t},e.prototype.set=function(e,t,i){var r;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=h({},this.cookies,((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=u.serialize(e,t,i)),this._emitChange({name:e,value:t,options:i})},e.prototype.remove=function(e,t){var i=t=h({},t,{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=h({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=u.serialize(e,"",i)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}();i.d(t,"default",(function(){return m})),i.d(t,"query",(function(){return v}));var m=function(e){var t,i;function r(){for(var t,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).filteredTileData=void 0,t.allEntries=void 0,t.filteredArticles=[],t.categoryIndex=void 0,t.lastPath=void 0,t.disciplines=[],t.categories=[],t.cookies=new d,t.state={hasData:!1,hasFilters:!1},t}i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var s=r.prototype;return s.componentDidMount=function(){this.allEntries=this.props.data.craft.entries,this.findFilters(),this.filterArticles()},s.componentWillReceiveProps=function(){},s.findFilters=function(){var e=this;this.allEntries.forEach((function(t){var i=t.disciplines,r=t.categories;i.forEach((function(t){var i=t.title.toLowerCase();-1===e.disciplines.indexOf(i)&&e.disciplines.push(i)})),r.forEach((function(t){var i=t.title.toLowerCase();-1===e.categories.indexOf(i)&&e.categories.push(i)}))})),this.disciplines=["brand & identity","film & photography","spatial","digital"],this.setState({hasFilters:!0})},s.filterArticles=function(){var e=this.allEntries,t=[];e=e.filter((function(e){if(!0!==e.hidden)return!0;t.push(e)}));var i=this.shuffleArray(e);this.filteredArticles=i,this.filteredArticles.length>0&&this.setState({hasData:!0})},s.shuffleArray=function(e){var t=this.cookies.get("dwTiles");if(void 0===t){var i,r,n=e.length,o=new Array(e.length);for(e.forEach((function(e,t){e.index=t}));0!==n;)r=Math.floor(Math.random()*n),i=e[n-=1],e[n]=e[r],e[r]=i;e.forEach((function(e,t){o[t]=e.index}));var a=new Date;a.setDate(a.getDate()+1),this.cookies.set("dwTiles",JSON.stringify(o),{expires:a})}else{var s=new Array(t.length);t.forEach((function(t,i){s[i]=e[t]})),e=s}return e},s.render=function(){var e=this.props.data.craft.seomatic,t=this.state.hasData,i=this.state.hasFilters;return n.a.createElement(o.a,{className:"work"},n.a.createElement(a.a,{data:e}),i&&n.a.createElement(c,{render:{disciplines:this.disciplines,categories:this.categories}}),t&&n.a.createElement(l.a,{render:{data:this.filteredArticles}}))},r}(r.Component),v="940993803"},"iVi/":function(e,t,i){"use strict";i("Tze0"),i("V+eJ"),i("KKXr"),t.parse=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var i={},n=t||{},a=e.split(o),c=n.decode||r,l=0;l<a.length;l++){var u=a[l],f=u.indexOf("=");if(!(f<0)){var p=u.substr(0,f).trim(),h=u.substr(++f,u.length).trim();'"'==h[0]&&(h=h.slice(1,-1)),null==i[p]&&(i[p]=s(h,c))}}return i},t.serialize=function(e,t,i){var r=i||{},o=r.encode||n;if("function"!=typeof o)throw new TypeError("option encode is invalid");if(!a.test(e))throw new TypeError("argument name is invalid");var s=o(t);if(s&&!a.test(s))throw new TypeError("argument val is invalid");var c=e+"="+s;if(null!=r.maxAge){var l=r.maxAge-0;if(isNaN(l))throw new Error("maxAge should be a Number");c+="; Max-Age="+Math.floor(l)}if(r.domain){if(!a.test(r.domain))throw new TypeError("option domain is invalid");c+="; Domain="+r.domain}if(r.path){if(!a.test(r.path))throw new TypeError("option path is invalid");c+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+r.expires.toUTCString()}r.httpOnly&&(c+="; HttpOnly");r.secure&&(c+="; Secure");if(r.sameSite){switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c};var r=decodeURIComponent,n=encodeURIComponent,o=/; */,a=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function s(e,t){try{return t(e)}catch(i){return e}}}}]);
//# sourceMappingURL=component---src-pages-work-js-d7fd314a66360c89743e.js.map